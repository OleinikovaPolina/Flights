import{V as s,a0 as o,a7 as $,_ as L,P as Q,r as w,a8 as B,a9 as I,a as g,o as N,U as S,W as R,X as v,$ as e,a4 as V,a5 as l,aa as M,Y as h,Z as m,a3 as Z,a2 as P,a1 as W,ab as A,ac as x,ad as T,ae as E,af as j}from"./index.bf23a081.js";import{u as U,d as F,Q as X}from"./flight.cd76f9ed.js";import{Q as G}from"./QPage.e32681a4.js";import{F as J}from"./FlightMap.2df7037f.js";import"./axios.7ea3e07b.js";import"./use-quasar.444809c8.js";const K={xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 572.88 361.347"},O=$('<path fill="#1976d2" d="M418.012 88c0 34.668-54.19 136.907-85.26 192.678a24.312 24.312 0 0 1-42.48 0c-31.07-55.771-85.26-158.01-85.26-192.678 0-48.601 47.682-88 106.5-88s106.5 39.399 106.5 88"></path><circle cx="312.012" cy="87" r="58" fill="currentColor"></circle><circle cx="69.982" cy="104.74" r="34.74" fill="#ffab00"></circle><ellipse cx="311.512" cy="354.856" fill="#1976d2" rx="84.092" ry="6.492"></ellipse><circle cx="356.74" cy="401.758" r="19.986" fill="#1976d2" opacity=".4" style="isolation:isolate;" transform="rotate(-80.783 41.683 451.368)"></circle><path fill="#3f3d56" d="M510.77 235.53c-157.39-59-349.35-1.48-460.18 116.18-.63.66-1.26 1.33-1.87 2h-1.69c.58-.67 1.18-1.34 1.77-2C161.93 225.1 351.34 174.64 510.77 235.53M553.78 255.1a375.733 375.733 0 0 0-43.01-19.57 341.325 341.325 0 0 1 43.01 19.57"></path><circle cx="467.641" cy="174.315" r="21.92" fill="#1976d2" opacity=".4" style="isolation:isolate;"></circle><path fill="#3f3d56" d="M470.081 342.921c1.694 6.262 7.497 10.14 7.497 10.14s3.055-6.274 1.361-12.536-7.496-10.14-7.496-10.14-3.055 6.274-1.362 12.536"></path><path fill="#1976d2" d="M472.57 341.575c4.649 4.525 5.217 11.48 5.217 11.48s-6.969-.38-11.617-4.904-5.216-11.481-5.216-11.481 6.968.38 11.617 4.905"></path><path fill="#3f3d56" d="M3.36 255.855v9.66l-.48.52v-10.28c.16.03.32.07.48.1"></path><path fill="#ccc" d="M34.14 351.705c-.14.23-.29.46-.44.69H2.88v-96.06l.48-.48 4.09 4.65v-6.8h13v21.58l13.13 14.91.12.14c.16.5.31 1 .46 1.5a.035.035 0 0 0 .01.02 177.406 177.406 0 0 1 4.84 19.19c2.86 15.29 2.43 29.31-4.87 40.66"></path><path fill="#3f3d56" d="M5.427 308.953h8.274v6.895H5.427zM5.427 321.365h8.274v6.895H5.427zM268.588 295.852l-4.137-6.895 38.614-33.098c28.547-13.741 62.958-9.776 99.294 0v9.653l-35.856 38.615-41.373 8.274Z"></path><path fill="#ccc" d="M419.45 275.282c6.858-7.628 7.81-14.88 0-21.577h-13v6.804l-4.091-4.65-33.098 33.098-5.517 5.516-6.895 27.582 12.412 30.339h63.437v-62.058Z"></path><path fill="#f2f2f2" d="M264.45 288.956h104.81v63.438H264.45c-12.68-13.719-6.092-38.723 0-63.438"></path><path fill="#3f3d56" d="M332.715 308.953h22.065v19.307h-22.065z"></path><path fill="#ccc" d="M304.444 308.263h19.307v44.13h-19.307z"></path><path fill="#3f3d56" d="M282.379 315.159v-6.895h-8.274v6.895h7.584zM281.689 320.675h-7.584v6.896h8.274v-6.896zM287.895 308.263h8.274v6.895h-8.274zM287.895 320.675h8.274v6.895h-8.274zM398.911 315.849v-6.896h-8.275v6.896h7.585zM398.221 321.365h-7.585v6.895h8.275v-6.895zM404.427 308.953h8.274v6.895h-8.274zM404.427 321.365h8.274v6.895h-8.274zM81.966 180.01l-6.895-5.517 38.614-34.477h97.914v30.34l-63.437 42.752z"></path><path fill="#ccc" d="M229.45 159.356v-18.651h-13v4.568l-4.851-5.257-31.72 34.477-12.41 8.275-19.245 140.603 29.023 29.023h67.45c10.335-51.988 18.53-105.395 0-176.522Z"></path><path fill="#f2f2f2" d="M75.07 174.493h104.81v177.9H75.07c-11.469-69.112-17.07-133.205 0-177.9"></path><path fill="#ccc" d="M115.753 308.953h19.307v43.441h-19.307z"></path><path fill="#3f3d56" d="M95.067 321.365v-6.895h-8.274v6.895h7.585zM94.378 326.881h-7.585v6.896h8.274v-6.896zM100.583 314.469h8.274v6.895h-8.274zM150.92 326.881h-7.585v6.896h8.274v-6.896zM157.125 314.469h8.274v6.895h-8.274zM157.125 326.881h8.274v6.895h-8.274zM209.53 183.457v-6.895h-8.274v6.895h7.585zM208.841 188.974h-7.585v6.895h8.274v-6.895zM215.047 176.562h8.274v6.895h-8.274zM215.047 188.973h8.274v6.895h-8.274zM209.53 222.072v-6.896h-8.274v6.896h7.585zM208.841 227.588h-7.585v6.895h8.274v-6.895zM215.047 215.176h8.274v6.895h-8.274zM215.047 227.587h8.274v6.895h-8.274zM209.53 260.686v-6.896h-8.274v6.896h7.585zM208.841 266.202h-7.585v6.895h8.274v-6.895zM215.047 253.79h8.274v6.895h-8.274zM215.047 266.202h8.274v6.895h-8.274zM209.53 299.3v-6.896h-8.274v6.896h7.585zM208.841 304.816h-7.585v6.895h8.274v-6.895zM215.047 292.404h8.274v6.895h-8.274zM215.047 304.816h8.274v6.895h-8.274zM86.793 183.457h79.986v16.549c-25.638-7.076-52.374-6.568-79.986 0ZM86.793 216.555q37.447 11.033 79.986 0v16.549H86.793ZM86.793 249.653h79.986v16.549c-27.26-8.705-53.95-9.115-79.986 0ZM86.793 282.75c26.086 10.054 52.772 9.636 79.986 0v16.55H86.793ZM516.68 254h56.2v27.08l-5.02 1.57-16.7 5.212-26.2-6.069-26.17-6.064-13.82-3.202-6.9-2.552c5.74-7.877 16.18-14.07 38.61-15.975"></path><path fill="#f2f2f2" d="M572.88 269.975v82.42h-94.81c-.03-.05-.05-.097-.08-.148v-.005a1.265 1.265 0 0 0-.08-.166q-2.22-4.469-3.98-8.914c-9.95-25.079-8.87-49.494 4.14-73.187Z"></path><path fill="#ccc" d="M518.753 308.953h19.307v43.441h-19.307z"></path><path fill="#3f3d56" d="M498.067 321.365v-6.895h-8.274v6.895h7.585zM497.378 326.881h-7.585v6.896h8.274v-6.896zM503.583 314.469h8.274v6.895h-8.274zM503.583 326.881h8.274v6.895h-8.274zM554.609 321.365v-6.895h-8.274v6.895h7.585zM553.92 326.881h-7.585v6.896h8.274v-6.896zM560.125 314.469h8.274v6.895h-8.274zM560.125 326.881h8.274v6.895h-8.274zM498.793 222h11.885a44.202 44.202 0 0 1 44.202 44.202h-56.087ZM138.793 102h11.885a44.202 44.202 0 0 1 44.202 44.202h-56.087ZM328.793 213h11.885a44.202 44.202 0 0 1 44.202 44.202h-56.087ZM498.793 282.751h56.087V299.3h-56.087zM2.88 351.71h570v2h-570zM53.451 272.705h2v79h-2z"></path><path fill="#1976d2" d="M73.909 282.773c.127 27.624-19.308 50.108-19.308 50.108S29.71 310.1 34.83 282.953c5.15-27.3 21.2-49.992 19.309-50.108 0 0 19.641 22.304 19.769 49.928"></path><path fill="#3f3d56" d="M253.451 272.705h2v79h-2z"></path><path fill="#1976d2" d="M273.909 282.773c1.802 27.566-19.308 50.108-19.308 50.108s-19.642-22.304-19.77-49.928 19.309-50.108 19.309-50.108c-1.895 7.572 18.31 27.624 19.769 49.928"></path><path fill="#3f3d56" d="m125.513 144.289 86.874-4.25 36.443 30.419-6.443 5.817-57.709-1.299zM38.83 285.455l-4.68 4.23-.57.51-1.19 1.08-29.51-.66v-34.86q-1.44-.315-2.88-.6l2.39-.12.49.41 4.57 3.81 13 10.86 14.52 12.12ZM315.513 259.289l86.874-4.25 36.443 30.419-6.443 5.817-57.709-1.299z"></path>',28),t2=[O];function e2(t,f){return s(),o("svg",K,[...t2])}var a2={render:e2};const s2=Q({name:"HomePage",components:{FlightMap:J,BestPlaceSvg:a2},setup(){const t=w(!0),f=w({iataCode:"PAR",name:"Paris",geoCode:{latitude:48.72333,longitude:2.37944}}),k=B(),u=U(),{inspirationData:n,recommendations:D,inspirationCurrency:_,isLoading:z}=I(u),r=g(()=>D.value.reduce((a,c)=>{const d=n.value.find(i=>i.destination===c.iataCode);return d&&a.push({...c,...d}),a},[])),y=g(()=>{const a=n.value.map(i=>Number(i.price.total)),c=a.reduce((i,C)=>i+C,0),{length:d}=a;return Math.round(c/d)}),q=g(()=>n.value.length),b=g(()=>{const a=n.value.map(i=>F.getDateDiff(i.returnDate,i.departureDate,"days")),c=a.reduce((i,C)=>i+C,0),{length:d}=a;return Math.round(c/d)}),H=async()=>{await u.getRecommendations({cityCodes:f.value.iataCode}),await u.getFlightInspiration({origin:f.value.iataCode});const a=[];n.value.forEach(c=>{a.push(u.getLatLng(c.destination))}),await Promise.all(a),t.value=!1},Y=a=>{k.push({path:"/flights",query:{origin:a.origin,destination:a.destination,return:a.returnDate,departure:a.departureDate,adults:1}})};return N(async()=>await H()),{slide:w(1),isLoading:z,inspirationCurrency:_,origin:f,date:F,recommends:r,loading:t,avgPrice:y,totalFlights:q,avgPeriod:b,getLinkRecommendation:Y}}}),p=t=>(E("data-v-80eb9786"),t=t(),j(),t),o2={class:"row items-center"},i2=p(()=>e("div",{class:"text-h4 q-my-lg"},"Welcome to the world of travel opportunities!",-1)),l2=p(()=>e("div",null,"We are your source for smooth travel planning. With our innovative flight search, seat map view and flight analytics service, you get access to flight information around the world.",-1)),h2={class:"row q-mt-lg"},c2={key:0,class:"col"},r2=p(()=>e("div",null,"Total number",-1)),n2={class:"text-h6"},d2={key:1,class:"col"},v2=p(()=>e("div",null,"Average price",-1)),p2={class:"text-h6"},f2={key:2,class:"col"},u2=p(()=>e("div",null,"Average period",-1)),g2={class:"text-h6"},M2={key:0,class:"text-caption text-grey"},m2={class:"col-12 col-md-8"},_2=p(()=>e("div",{class:"text-h4 text-center q-mt-lg"},"Recommended flights",-1)),z2={class:"flex justify-center"},y2={key:0,class:"row q-col-gutter-md q-my-lg"},C2={class:"text-h6"},w2={class:"text-grey"},P2={class:"text-grey"},k2={key:1,class:"flex column items-center"},D2={class:"text-h6 q-mt-md text-primary text-center"};function q2(t,f,k,u,n,D){const _=S("flight-map"),z=S("best-place-svg");return s(),R(G,null,{default:v(()=>[e("div",o2,[e("div",{class:V(["col-12 col-md-4",{"text-center":t.$q.screen.lt.md}])},[i2,l2,e("div",h2,[t.totalFlights?(s(),o("div",c2,[r2,e("div",n2,l(t.totalFlights)+" cities",1)])):M("",!0),t.avgPrice?(s(),o("div",d2,[v2,e("div",p2,l(t.avgPrice)+" "+l(t.inspirationCurrency),1)])):M("",!0),t.avgPeriod?(s(),o("div",f2,[u2,e("div",g2,l(t.avgPeriod)+" days",1)])):M("",!0)]),t.totalFlights||t.avgPrice||t.avgPeriod?(s(),o("div",M2," * for Paris ")):M("",!0),h(Z,{color:"amber-14",unelevated:"",to:"/flights",class:"q-my-lg"},{default:v(()=>[m(" Search flights ")]),_:1})],2),e("div",m2,[h(_,{loading:t.loading,origin:t.origin},null,8,["loading","origin"])])]),_2,e("div",z2,[!t.isLoading&&t.recommends.length>0?(s(),o("div",y2,[(s(!0),o(P,null,W(t.recommends,(r,y)=>(s(),o("div",{key:y,class:"col-12 col-md-auto"},[h(A,{class:"shadow-0"},{default:v(()=>[h(x,null,{default:v(()=>[e("div",C2,l(r.name),1),e("div",w2,l(t.date.formatDate(r.departureDate,"YYYY/MM/DD, dddd")),1),e("div",P2,l(t.date.formatDate(r.returnDate,"YYYY/MM/DD, dddd")),1)]),_:2},1024),h(T),h(x,null,{default:v(()=>[e("div",null,l(r.price.total)+" "+l(t.inspirationCurrency),1),h(Z,{color:"amber-14",unelevated:"",size:"sm",class:"full-width q-mt-sm",onClick:q=>t.getLinkRecommendation(r)},{default:v(()=>[m(" Flights ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])):(s(),o("div",k2,[h(z,{height:"150",class:"q-mt-md"}),e("div",D2,[t.loading?(s(),o(P,{key:0},[h(X,{color:"primary",size:"2em",class:"q-mr-md"}),m(" Search recommended flights... ")],64)):(s(),o(P,{key:1},[m(" Not found( ")],64))])]))])]),_:1})}var Y2=L(s2,[["render",q2],["__scopeId","data-v-80eb9786"]]);export{Y2 as default};
