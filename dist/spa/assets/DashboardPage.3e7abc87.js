import{N as Qt,k as _r,g as je,h as Ke,i as Dr,l as Ar,j as wr}from"./undraw_no_data.92d6b6ae.js";import{al as kr,_ as Mt,a9 as ht,a as Xt,V as B,a0 as Z,ap as U,W as Tt,Y as N,ae as Ot,af as Rt,$ as C,r as st,w as Ir,P as Lr,o as Pr,bb as Xe,U as wt,X as O,aS as xr,aT as Cr,a4 as Bt,Z as Ze,a5 as at,ac as dt,ab as pt,a2 as Ye,aU as Qe}from"./index.bf23a081.js";import{u as Oa,d as xt,Q as Vr}from"./flight.cd76f9ed.js";import{Q as Nr}from"./QPage.e32681a4.js";import{api as ce}from"./axios.7ea3e07b.js";import{u as Jt}from"./use-quasar.444809c8.js";import{_ as R,c as te,G as Te,a as Je,S as ee,m as W,i as Ae,b as ut,d as kt,P as Er,e as ta,f as ae,g as ea,h as Oe,j as aa,k as Vt,l as ra,s as we,n as rt,t as ke,q as na,o as Ra,C as Ct,p as ia,r as X,Z as Mr,u as Ga,v as Ba,w as Fa,x as za,y as Tr,z as $a,A as ct,B as H,L as Or,D as oa,E as Rr,H as Gr,I as Br,J as qa,K as Fr,M as zr,N as sa,O as z,Q as $r,R as qr,T as Wr,U as la,V as Ur,W as Wa,X as q,Y as Hr,$ as jr,a0 as Ua,a1 as Y,a2 as Kr,a3 as Xr,a4 as Zr,a5 as re,a6 as Yr,a7 as Re,a8 as lt,a9 as Ge,aa as Qr,ab as Jr,ac as It,ad as ua,ae as tn,af as $,ag as Ie,ah as ca,ai as en,aj as Ha,ak as an,al as rn,am as nn,an as on,ao as ja,ap as sn,aq as ln,ar as un,as as cn,at as Be,au as Nt,av as Le,aw as vn,ax as hn,ay as Pe,az as fn,aA as ft,aB as Ka,aC as gn,aD as xe,aE as dn,aF as va,aG as pn,aH as St,aI as mn,aJ as yn,aK as bn,aL as Sn,aM as _n,aN as Xa,aO as Dn,aP as ha,aQ as An,aR as wn,aS as kn,aT as Za,aU as Ya,aV as Zt,aW as Ft,aX as In,aY as fa,aZ as ne,a_ as ie,a$ as oe,F as Ln}from"./FlightMap.2df7037f.js";import"./rtl.b51694b1.js";var Pn=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){return te(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var r=new Te,n=Je("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);r.add(n),n.setStyle(e.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=i==="none"?"circle":i,u=e.itemHeight*.8,l=Je(s,(e.itemWidth-u)/2,(e.itemHeight-u)/2,u,u,e.itemStyle.fill);r.add(l),l.setStyle(e.itemStyle);var c=e.iconRotate==="inherit"?o:e.iconRotate||0;return l.rotation=c*Math.PI/180,l.setOrigin([e.itemWidth/2,e.itemHeight/2]),s.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),r},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(ee),xn=Pn;function Qa(a,t,e){var r=a.getBaseAxis(),n=a.getOtherAxis(r),i=Cn(n,e),o=r.dim,s=n.dim,u=t.mapDimension(s),l=t.mapDimension(o),c=s==="x"||s==="radius"?1:0,v=W(a.dimensions,function(g){return t.mapDimension(g)}),h=!1,f=t.getCalculationInfo("stackResultDimension");return Ae(t,v[0])&&(h=!0,v[0]=f),Ae(t,v[1])&&(h=!0,v[1]=f),{dataDimsForPoint:v,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!h,valueDim:u,baseDim:l,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Cn(a,t){var e=0,r=a.scale.getExtent();return t==="start"?e=r[0]:t==="end"?e=r[1]:ut(t)&&!isNaN(t)?e=t:r[0]>0?e=r[0]:r[1]<0&&(e=r[1]),e}function Ja(a,t,e,r){var n=NaN;a.stacked&&(n=e.get(e.getCalculationInfo("stackedOverDimension"),r)),isNaN(n)&&(n=a.valueStart);var i=a.baseDataOffset,o=[];return o[i]=e.get(a.baseDim,r),o[1-i]=n,t.dataToPoint(o)}function Vn(a,t){var e=[];return t.diff(a).add(function(r){e.push({cmd:"+",idx:r})}).update(function(r,n){e.push({cmd:"=",idx:n,idx1:r})}).remove(function(r){e.push({cmd:"-",idx:r})}).execute(),e}function Nn(a,t,e,r,n,i,o,s){for(var u=Vn(a,t),l=[],c=[],v=[],h=[],f=[],g=[],d=[],b=Qa(n,t,o),p=a.getLayout("points")||[],_=t.getLayout("points")||[],m=0;m<u.length;m++){var y=u[m],D=!0,S=void 0,A=void 0;switch(y.cmd){case"=":S=y.idx*2,A=y.idx1*2;var I=p[S],L=p[S+1],x=_[A],k=_[A+1];(isNaN(I)||isNaN(L))&&(I=x,L=k),l.push(I,L),c.push(x,k),v.push(e[S],e[S+1]),h.push(r[A],r[A+1]),d.push(t.getRawIndex(y.idx1));break;case"+":var w=y.idx,P=b.dataDimsForPoint,M=n.dataToPoint([t.get(P[0],w),t.get(P[1],w)]);A=w*2,l.push(M[0],M[1]),c.push(_[A],_[A+1]);var E=Ja(b,n,t,w);v.push(E[0],E[1]),h.push(r[A],r[A+1]),d.push(t.getRawIndex(w));break;case"-":D=!1}D&&(f.push(y),g.push(g.length))}g.sort(function(Gt,F){return d[Gt]-d[F]});for(var G=l.length,j=kt(G),V=kt(G),T=kt(G),J=kt(G),K=[],m=0;m<g.length;m++){var At=g[m],tt=m*2,et=At*2;j[tt]=l[et],j[tt+1]=l[et+1],V[tt]=c[et],V[tt+1]=c[et+1],T[tt]=v[et],T[tt+1]=v[et+1],J[tt]=h[et],J[tt+1]=h[et+1],K[m]=f[At]}return{current:j,next:V,stackedOnCurrent:T,stackedOnNext:J,status:K}}var nt=Math.min,it=Math.max;function gt(a,t){return isNaN(a)||isNaN(t)}function Ce(a,t,e,r,n,i,o,s,u){for(var l,c,v,h,f,g,d=e,b=0;b<r;b++){var p=t[d*2],_=t[d*2+1];if(d>=n||d<0)break;if(gt(p,_)){if(u){d+=i;continue}break}if(d===e)a[i>0?"moveTo":"lineTo"](p,_),v=p,h=_;else{var m=p-l,y=_-c;if(m*m+y*y<.5){d+=i;continue}if(o>0){for(var D=d+i,S=t[D*2],A=t[D*2+1];S===p&&A===_&&b<r;)b++,D+=i,d+=i,S=t[D*2],A=t[D*2+1],p=t[d*2],_=t[d*2+1],m=p-l,y=_-c;var I=b+1;if(u)for(;gt(S,A)&&I<r;)I++,D+=i,S=t[D*2],A=t[D*2+1];var L=.5,x=0,k=0,w=void 0,P=void 0;if(I>=r||gt(S,A))f=p,g=_;else{x=S-l,k=A-c;var M=p-l,E=S-p,G=_-c,j=A-_,V=void 0,T=void 0;if(s==="x"){V=Math.abs(M),T=Math.abs(E);var J=x>0?1:-1;f=p-J*V*o,g=_,w=p+J*T*o,P=_}else if(s==="y"){V=Math.abs(G),T=Math.abs(j);var K=k>0?1:-1;f=p,g=_-K*V*o,w=p,P=_+K*T*o}else V=Math.sqrt(M*M+G*G),T=Math.sqrt(E*E+j*j),L=T/(T+V),f=p-x*o*(1-L),g=_-k*o*(1-L),w=p+x*o*L,P=_+k*o*L,w=nt(w,it(S,p)),P=nt(P,it(A,_)),w=it(w,nt(S,p)),P=it(P,nt(A,_)),x=w-p,k=P-_,f=p-x*V/T,g=_-k*V/T,f=nt(f,it(l,p)),g=nt(g,it(c,_)),f=it(f,nt(l,p)),g=it(g,nt(c,_)),x=p-f,k=_-g,w=p+x*T/V,P=_+k*T/V}a.bezierCurveTo(v,h,f,g,p,_),v=w,h=P}else a.lineTo(p,_)}l=p,c=_,d+=i}return b}var tr=function(){function a(){this.smooth=0,this.smoothConstraint=!0}return a}(),En=function(a){R(t,a);function t(e){var r=a.call(this,e)||this;return r.type="ec-polyline",r}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new tr},t.prototype.buildPath=function(e,r){var n=r.points,i=0,o=n.length/2;if(r.connectNulls){for(;o>0&&gt(n[o*2-2],n[o*2-1]);o--);for(;i<o&&gt(n[i*2],n[i*2+1]);i++);}for(;i<o;)i+=Ce(e,n,i,o,o,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},t.prototype.getPointOn=function(e,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n=this.path,i=n.data,o=Er.CMD,s,u,l=r==="x",c=[],v=0;v<i.length;){var h=i[v++],f=void 0,g=void 0,d=void 0,b=void 0,p=void 0,_=void 0,m=void 0;switch(h){case o.M:s=i[v++],u=i[v++];break;case o.L:if(f=i[v++],g=i[v++],m=l?(e-s)/(f-s):(e-u)/(g-u),m<=1&&m>=0){var y=l?(g-u)*m+u:(f-s)*m+s;return l?[e,y]:[y,e]}s=f,u=g;break;case o.C:f=i[v++],g=i[v++],d=i[v++],b=i[v++],p=i[v++],_=i[v++];var D=l?ta(s,f,d,p,e,c):ta(u,g,b,_,e,c);if(D>0)for(var S=0;S<D;S++){var A=c[S];if(A<=1&&A>=0){var y=l?ea(u,g,b,_,A):ea(s,f,d,p,A);return l?[e,y]:[y,e]}}s=p,u=_;break}}},t}(ae),Mn=function(a){R(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t}(tr),Tn=function(a){R(t,a);function t(e){var r=a.call(this,e)||this;return r.type="ec-polygon",r}return t.prototype.getDefaultShape=function(){return new Mn},t.prototype.buildPath=function(e,r){var n=r.points,i=r.stackedOnPoints,o=0,s=n.length/2,u=r.smoothMonotone;if(r.connectNulls){for(;s>0&&gt(n[s*2-2],n[s*2-1]);s--);for(;o<s&&gt(n[o*2],n[o*2+1]);o++);}for(;o<s;){var l=Ce(e,n,o,s,s,1,r.smooth,u,r.connectNulls);Ce(e,i,o+l-1,l,s,-1,r.stackedOnSmooth,u,r.connectNulls),o+=l+1,e.closePath()}},t}(ae);function se(a,t){return a.type===t}function ga(a,t){if(a.length===t.length){for(var e=0;e<a.length;e++)if(a[e]!==t[e])return;return!0}}function da(a){for(var t=1/0,e=1/0,r=-1/0,n=-1/0,i=0;i<a.length;){var o=a[i++],s=a[i++];isNaN(o)||(t=Math.min(o,t),r=Math.max(o,r)),isNaN(s)||(e=Math.min(s,e),n=Math.max(s,n))}return[[t,e],[r,n]]}function pa(a,t){var e=da(a),r=e[0],n=e[1],i=da(t),o=i[0],s=i[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]))}function ma(a){return ut(a)?a:a?.5:0}function On(a,t,e){if(!e.valueDim)return[];for(var r=t.count(),n=kt(r*2),i=0;i<r;i++){var o=Ja(e,a,t,i);n[i*2]=o[0],n[i*2+1]=o[1]}return n}function ot(a,t,e,r){var n=t.getBaseAxis(),i=n.dim==="x"||n.dim==="radius"?0:1,o=[],s=0,u=[],l=[],c=[],v=[];if(r){for(s=0;s<a.length;s+=2)!isNaN(a[s])&&!isNaN(a[s+1])&&v.push(a[s],a[s+1]);a=v}for(s=0;s<a.length-2;s+=2)switch(c[0]=a[s+2],c[1]=a[s+3],l[0]=a[s],l[1]=a[s+1],o.push(l[0],l[1]),e){case"end":u[i]=c[i],u[1-i]=l[1-i],o.push(u[0],u[1]);break;case"middle":var h=(l[i]+c[i])/2,f=[];u[i]=f[i]=h,u[1-i]=l[1-i],f[1-i]=c[1-i],o.push(u[0],u[1]),o.push(f[0],f[1]);break;default:u[i]=l[i],u[1-i]=c[1-i],o.push(u[0],u[1])}return o.push(a[s++],a[s++]),o}function Rn(a,t){var e=[],r=a.length,n,i;function o(c,v,h){var f=c.coord,g=(h-f)/(v.coord-f),d=Br(g,[c.color,v.color]);return{coord:h,color:d}}for(var s=0;s<r;s++){var u=a[s],l=u.coord;if(l<0)n=u;else if(l>t){i?e.push(o(i,u,t)):n&&e.push(o(n,u,0),o(n,u,t));break}else n&&(e.push(o(n,u,0)),n=null),e.push(u),i=u}return e}function Gn(a,t,e){var r=a.getVisual("visualMeta");if(!(!r||!r.length||!a.count())&&t.type==="cartesian2d"){for(var n,i,o=r.length-1;o>=0;o--){var s=a.getDimensionInfo(r[o].dimension);if(n=s&&s.coordDim,n==="x"||n==="y"){i=r[o];break}}if(!!i){var u=t.getAxis(n),l=W(i.stops,function(m){return{coord:u.toGlobalCoord(u.dataToCoord(m.value)),color:m.color}}),c=l.length,v=i.outerColors.slice();c&&l[0].coord>l[c-1].coord&&(l.reverse(),v.reverse());var h=Rn(l,n==="x"?e.getWidth():e.getHeight()),f=h.length;if(!f&&c)return l[0].coord<0?v[1]?v[1]:l[c-1].color:v[0]?v[0]:l[0].color;var g=10,d=h[0].coord-g,b=h[f-1].coord+g,p=b-d;if(p<.001)return"transparent";H(h,function(m){m.offset=(m.coord-d)/p}),h.push({offset:f?h[f-1].offset:.5,color:v[1]||"transparent"}),h.unshift({offset:f?h[0].offset:.5,color:v[0]||"transparent"});var _=new Or(0,0,0,0,h,!0);return _[n]=d,_[n+"2"]=b,_}}}function Bn(a,t,e){var r=a.get("showAllSymbol"),n=r==="auto";if(!(r&&!n)){var i=e.getAxesByScale("ordinal")[0];if(!!i&&!(n&&Fn(i,t))){var o=t.mapDimension(i.dim),s={};return H(i.getViewLabels(),function(u){var l=i.scale.getRawOrdinalNumber(u.tickValue);s[l]=1}),function(u){return!s.hasOwnProperty(t.get(o,u))}}}}function Fn(a,t){var e=a.getExtent(),r=Math.abs(e[1]-e[0])/a.scale.count();isNaN(r)&&(r=0);for(var n=t.count(),i=Math.max(1,Math.round(n/5)),o=0;o<n;o+=i)if(Ra.getSymbolSize(t,o)[a.isHorizontal()?1:0]*1.5>r)return!1;return!0}function zn(a,t){return isNaN(a)||isNaN(t)}function $n(a){for(var t=a.length/2;t>0&&zn(a[t*2-2],a[t*2-1]);t--);return t-1}function ya(a,t){return[a[t*2],a[t*2+1]]}function qn(a,t,e){for(var r=a.length/2,n=e==="x"?0:1,i,o,s=0,u=-1,l=0;l<r;l++)if(o=a[l*2+n],!(isNaN(o)||isNaN(a[l*2+1-n]))){if(l===0){i=o;continue}if(i<=t&&o>=t||i>=t&&o<=t){u=l;break}s=l,i=o}return{range:[s,u],t:(t-i)/(o-i)}}function er(a){if(a.get(["endLabel","show"]))return!0;for(var t=0;t<oa.length;t++)if(a.get([oa[t],"endLabel","show"]))return!0;return!1}function ve(a,t,e,r){if(se(t,"cartesian2d")){var n=r.getModel("endLabel"),i=n.get("valueAnimation"),o=r.getData(),s={lastFrameIndex:0},u=er(r)?function(f,g){a._endLabelOnDuring(f,g,o,s,i,n,t)}:null,l=t.getBaseAxis().isHorizontal(),c=Rr(t,e,r,function(){var f=a._endLabel;f&&e&&s.originalX!=null&&f.attr({x:s.originalX,y:s.originalY})},u);if(!r.get("clip",!0)){var v=c.shape,h=Math.max(v.width,v.height);l?(v.y-=h,v.height+=h*2):(v.x-=h,v.width+=h*2)}return u&&u(1,c),c}else return Gr(t,e,r)}function Wn(a,t){var e=t.getBaseAxis(),r=e.isHorizontal(),n=e.inverse,i=r?n?"right":"left":"center",o=r?"middle":n?"top":"bottom";return{normal:{align:a.get("align")||i,verticalAlign:a.get("verticalAlign")||o}}}var Un=function(a){R(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.init=function(){var e=new Te,r=new Oe;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=e},t.prototype.render=function(e,r,n){var i=this,o=e.coordinateSystem,s=this.group,u=e.getData(),l=e.getModel("lineStyle"),c=e.getModel("areaStyle"),v=u.getLayout("points")||[],h=o.type==="polar",f=this._coordSys,g=this._symbolDraw,d=this._polyline,b=this._polygon,p=this._lineGroup,_=!r.ssr&&e.isAnimationEnabled(),m=!c.isEmpty(),y=c.get("origin"),D=Qa(o,u,y),S=m&&On(o,u,D),A=e.get("showSymbol"),I=e.get("connectNulls"),L=A&&!h&&Bn(e,u,o),x=this._data;x&&x.eachItemGraphicEl(function(F,Sr){F.__temp&&(s.remove(F),x.setItemGraphicEl(Sr,null))}),A||g.remove(),s.add(p);var k=h?!1:e.get("step"),w;o&&o.getArea&&e.get("clip",!0)&&(w=o.getArea(),w.width!=null?(w.x-=.1,w.y-=.1,w.width+=.2,w.height+=.2):w.r0&&(w.r0-=.5,w.r+=.5)),this._clipShapeForSymbol=w;var P=Gn(u,o,n)||u.getVisual("style")[u.getVisual("drawType")];if(!(d&&f.type===o.type&&k===this._step))A&&g.updateData(u,{isIgnore:L,clipShape:w,disableAnimation:!0,getSymbolPoint:function(F){return[v[F*2],v[F*2+1]]}}),_&&this._initSymbolLabelAnimation(u,o,w),k&&(v=ot(v,o,k,I),S&&(S=ot(S,o,k,I))),d=this._newPolyline(v),m?b=this._newPolygon(v,S):b&&(p.remove(b),b=this._polygon=null),h||this._initOrUpdateEndLabel(e,o,aa(P)),p.setClipPath(ve(this,o,!0,e));else{m&&!b?b=this._newPolygon(v,S):b&&!m&&(p.remove(b),b=this._polygon=null),h||this._initOrUpdateEndLabel(e,o,aa(P));var M=p.getClipPath();if(M){var E=ve(this,o,!1,e);Vt(M,{shape:E.shape},e)}else p.setClipPath(ve(this,o,!0,e));A&&g.updateData(u,{isIgnore:L,clipShape:w,disableAnimation:!0,getSymbolPoint:function(F){return[v[F*2],v[F*2+1]]}}),(!ga(this._stackedOnPoints,S)||!ga(this._points,v))&&(_?this._doUpdateAnimation(u,S,o,n,k,y,I):(k&&(v=ot(v,o,k,I),S&&(S=ot(S,o,k,I))),d.setShape({points:v}),b&&b.setShape({points:v,stackedOnPoints:S})))}var G=e.getModel("emphasis"),j=G.get("focus"),V=G.get("blurScope"),T=G.get("disabled");if(d.useStyle(ra(l.getLineStyle(),{fill:"none",stroke:P,lineJoin:"bevel"})),we(d,e,"lineStyle"),d.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var J=d.getState("emphasis").style;J.lineWidth=+d.style.lineWidth+1}rt(d).seriesIndex=e.seriesIndex,ke(d,j,V,T);var K=ma(e.get("smooth")),At=e.get("smoothMonotone");if(d.setShape({smooth:K,smoothMonotone:At,connectNulls:I}),b){var tt=u.getCalculationInfo("stackedOnSeries"),et=0;b.useStyle(ra(c.getAreaStyle(),{fill:P,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),tt&&(et=ma(tt.get("smooth"))),b.setShape({smooth:K,stackedOnSmooth:et,smoothMonotone:At,connectNulls:I}),we(b,e,"areaStyle"),rt(b).seriesIndex=e.seriesIndex,ke(b,j,V,T)}var Gt=function(F){i._changePolyState(F)};u.eachItemGraphicEl(function(F){F&&(F.onHoverStateChange=Gt)}),this._polyline.onHoverStateChange=Gt,this._data=u,this._coordSys=o,this._stackedOnPoints=S,this._points=v,this._step=k,this._valueOrigin=y,e.get("triggerLineEvent")&&(this.packEventData(e,d),b&&this.packEventData(e,b))},t.prototype.packEventData=function(e,r){rt(r).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,r,n,i){var o=e.getData(),s=na(o,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var u=o.getLayout("points"),l=o.getItemGraphicEl(s);if(!l){var c=u[s*2],v=u[s*2+1];if(isNaN(c)||isNaN(v)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,v))return;var h=e.get("zlevel")||0,f=e.get("z")||0;l=new Ra(o,s),l.x=c,l.y=v,l.setZ(h,f);var g=l.getSymbolPath().getTextContent();g&&(g.zlevel=h,g.z=f,g.z2=this._polyline.z2+1),l.__temp=!0,o.setItemGraphicEl(s,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else Ct.prototype.highlight.call(this,e,r,n,i)},t.prototype.downplay=function(e,r,n,i){var o=e.getData(),s=na(o,i);if(this._changePolyState("normal"),s!=null&&s>=0){var u=o.getItemGraphicEl(s);u&&(u.__temp?(o.setItemGraphicEl(s,null),this.group.remove(u)):u.downplay())}else Ct.prototype.downplay.call(this,e,r,n,i)},t.prototype._changePolyState=function(e){var r=this._polygon;ia(this._polyline,e),r&&ia(r,e)},t.prototype._newPolyline=function(e){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new En({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},t.prototype._newPolygon=function(e,r){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Tn({shape:{points:e,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},t.prototype._initSymbolLabelAnimation=function(e,r,n){var i,o,s=r.getBaseAxis(),u=s.inverse;r.type==="cartesian2d"?(i=s.isHorizontal(),o=!1):r.type==="polar"&&(i=s.dim==="angle",o=!0);var l=e.hostModel,c=l.get("animationDuration");X(c)&&(c=c(null));var v=l.get("animationDelay")||0,h=X(v)?v(null):v;e.eachItemGraphicEl(function(f,g){var d=f;if(d){var b=[f.x,f.y],p=void 0,_=void 0,m=void 0;if(n)if(o){var y=n,D=r.pointToCoord(b);i?(p=y.startAngle,_=y.endAngle,m=-D[1]/180*Math.PI):(p=y.r0,_=y.r,m=D[0])}else{var S=n;i?(p=S.x,_=S.x+S.width,m=f.x):(p=S.y+S.height,_=S.y,m=f.y)}var A=_===p?0:(m-p)/(_-p);u&&(A=1-A);var I=X(v)?v(g):c*A+h,L=d.getSymbolPath(),x=L.getTextContent();d.attr({scaleX:0,scaleY:0}),d.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:I}),x&&x.animateFrom({style:{opacity:0}},{duration:300,delay:I}),L.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,r,n){var i=e.getModel("endLabel");if(er(e)){var o=e.getData(),s=this._polyline,u=o.getLayout("points");if(!u){s.removeTextContent(),this._endLabel=null;return}var l=this._endLabel;l||(l=this._endLabel=new Mr({z2:200}),l.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=$n(u);c>=0&&(Ga(s,za(e,"endLabel"),{inheritColor:n,labelFetcher:e,labelDataIndex:c,defaultText:function(v,h,f){return f!=null?Ba(o,f):Fa(o,v)},enableTextSetter:!0},Wn(i,r)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,r,n,i,o,s,u){var l=this._endLabel,c=this._polyline;if(l){e<1&&i.originalX==null&&(i.originalX=l.x,i.originalY=l.y);var v=n.getLayout("points"),h=n.hostModel,f=h.get("connectNulls"),g=s.get("precision"),d=s.get("distance")||0,b=u.getBaseAxis(),p=b.isHorizontal(),_=b.inverse,m=r.shape,y=_?p?m.x:m.y+m.height:p?m.x+m.width:m.y,D=(p?d:0)*(_?-1:1),S=(p?0:-d)*(_?-1:1),A=p?"x":"y",I=qn(v,y,A),L=I.range,x=L[1]-L[0],k=void 0;if(x>=1){if(x>1&&!f){var w=ya(v,L[0]);l.attr({x:w[0]+D,y:w[1]+S}),o&&(k=h.getRawValue(L[0]))}else{var w=c.getPointOn(y,A);w&&l.attr({x:w[0]+D,y:w[1]+S});var P=h.getRawValue(L[0]),M=h.getRawValue(L[1]);o&&(k=Tr(n,g,P,M,I.t))}i.lastFrameIndex=L[0]}else{var E=e===1||i.lastFrameIndex>0?L[0]:0,w=ya(v,E);o&&(k=h.getRawValue(E)),l.attr({x:w[0]+D,y:w[1]+S})}if(o){var G=$a(l);typeof G.setLabelText=="function"&&G.setLabelText(k)}}},t.prototype._doUpdateAnimation=function(e,r,n,i,o,s,u){var l=this._polyline,c=this._polygon,v=e.hostModel,h=Nn(this._data,e,this._stackedOnPoints,r,this._coordSys,n,this._valueOrigin),f=h.current,g=h.stackedOnCurrent,d=h.next,b=h.stackedOnNext;if(o&&(f=ot(h.current,n,o,u),g=ot(h.stackedOnCurrent,n,o,u),d=ot(h.next,n,o,u),b=ot(h.stackedOnNext,n,o,u)),pa(f,d)>3e3||c&&pa(g,b)>3e3){l.stopAnimation(),l.setShape({points:d}),c&&(c.stopAnimation(),c.setShape({points:d,stackedOnPoints:b}));return}l.shape.__points=h.current,l.shape.points=f;var p={shape:{points:d}};h.current!==f&&(p.shape.__points=h.next),l.stopAnimation(),ct(l,p,v),c&&(c.setShape({points:f,stackedOnPoints:g}),c.stopAnimation(),ct(c,{shape:{stackedOnPoints:b}},v),l.shape.points!==c.shape.points&&(c.shape.points=l.shape.points));for(var _=[],m=h.status,y=0;y<m.length;y++){var D=m[y].cmd;if(D==="="){var S=e.getItemGraphicEl(m[y].idx1);S&&_.push({el:S,ptIdx:y})}}l.animators&&l.animators.length&&l.animators[0].during(function(){c&&c.dirtyShape();for(var A=l.shape.__points,I=0;I<_.length;I++){var L=_[I].el,x=_[I].ptIdx*2;L.x=A[x],L.y=A[x+1],L.markRedraw()}})},t.prototype.remove=function(e){var r=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(i,o){i.__temp&&(r.remove(i),n.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(Ct),Hn=Un,jn={average:function(a){for(var t=0,e=0,r=0;r<a.length;r++)isNaN(a[r])||(t+=a[r],e++);return e===0?NaN:t/e},sum:function(a){for(var t=0,e=0;e<a.length;e++)t+=a[e]||0;return t},max:function(a){for(var t=-1/0,e=0;e<a.length;e++)a[e]>t&&(t=a[e]);return isFinite(t)?t:NaN},min:function(a){for(var t=1/0,e=0;e<a.length;e++)a[e]<t&&(t=a[e]);return isFinite(t)?t:NaN},nearest:function(a){return a[0]}},Kn=function(a){return Math.round(a.length/2)};function ar(a){return{seriesType:a,reset:function(t,e,r){var n=t.getData(),i=t.get("sampling"),o=t.coordinateSystem,s=n.count();if(s>10&&o.type==="cartesian2d"&&i){var u=o.getBaseAxis(),l=o.getOtherAxis(u),c=u.getExtent(),v=r.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(v||1),f=Math.round(s/h);if(isFinite(f)&&f>1){i==="lttb"&&t.setData(n.lttbDownSample(n.mapDimension(l.dim),1/f));var g=void 0;qa(i)?g=jn[i]:X(i)&&(g=i),g&&t.setData(n.downSample(n.mapDimension(l.dim),1/f,g,Kn))}}}}}function Xn(a){a.registerChartView(Hn),a.registerSeriesModel(xn),a.registerLayout(Fr("line",!0)),a.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),r=t.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",r)}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,ar("line"))}var rr=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,r){return te(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,r,n){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(e),s=i.dataToPoint(o);if(n)H(i.getAxes(),function(h,f){if(h.type==="category"&&r!=null){var g=h.getTicksCoords(),d=o[f],b=r[f]==="x1"||r[f]==="y1";if(b&&(d+=1),g.length<2)return;if(g.length===2){s[f]=h.toGlobalCoord(h.getExtent()[b?1:0]);return}for(var p=void 0,_=void 0,m=1,y=0;y<g.length;y++){var D=g[y].coord,S=y===g.length-1?g[y-1].tickValue+m:g[y].tickValue;if(S===d){_=D;break}else if(S<d)p=D;else if(p!=null&&S>d){_=(D+p)/2;break}y===1&&(m=S-g[0].tickValue)}_==null&&(p?p&&(_=g[g.length-1].coord):_=g[0].coord),s[f]=h.toGlobalCoord(_)}});else{var u=this.getData(),l=u.getLayout("offset"),c=u.getLayout("size"),v=i.getBaseAxis().isHorizontal()?0:1;s[v]+=l+c/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(ee);ee.registerClass(rr);var ba=rr,Zn=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return te(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>e&&(e=r),e},t.prototype.brushSelector=function(e,r,n){return n.rect(r.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=zr(ba.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(ba),Yn=Zn,Qn=function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a}(),Jn=function(a){R(t,a);function t(e){var r=a.call(this,e)||this;return r.type="sausage",r}return t.prototype.getDefaultShape=function(){return new Qn},t.prototype.buildPath=function(e,r){var n=r.cx,i=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),u=(s-o)*.5,l=o+u,c=r.startAngle,v=r.endAngle,h=r.clockwise,f=Math.PI*2,g=h?v-c<f:c-v<f;g||(c=v-(h?f:-f));var d=Math.cos(c),b=Math.sin(c),p=Math.cos(v),_=Math.sin(v);g?(e.moveTo(d*o+n,b*o+i),e.arc(d*l+n,b*l+i,u,-Math.PI+c,c,!h)):e.moveTo(d*s+n,b*s+i),e.arc(n,i,s,c,v,!h),e.arc(p*l+n,_*l+i,u,v-Math.PI*2,v-Math.PI,!h),o!==0&&e.arc(n,i,o,v,c,h)},t}(ae),Sa=Jn;function ti(a,t){t=t||{};var e=t.isRoundCap;return function(r,n,i){var o=n.position;if(!o||o instanceof Array)return sa(r,n,i);var s=a(o),u=n.distance!=null?n.distance:5,l=this.shape,c=l.cx,v=l.cy,h=l.r,f=l.r0,g=(h+f)/2,d=l.startAngle,b=l.endAngle,p=(d+b)/2,_=e?Math.abs(h-f)/2:0,m=Math.cos,y=Math.sin,D=c+h*m(d),S=v+h*y(d),A="left",I="top";switch(s){case"startArc":D=c+(f-u)*m(p),S=v+(f-u)*y(p),A="center",I="top";break;case"insideStartArc":D=c+(f+u)*m(p),S=v+(f+u)*y(p),A="center",I="bottom";break;case"startAngle":D=c+g*m(d)+zt(d,u+_,!1),S=v+g*y(d)+$t(d,u+_,!1),A="right",I="middle";break;case"insideStartAngle":D=c+g*m(d)+zt(d,-u+_,!1),S=v+g*y(d)+$t(d,-u+_,!1),A="left",I="middle";break;case"middle":D=c+g*m(p),S=v+g*y(p),A="center",I="middle";break;case"endArc":D=c+(h+u)*m(p),S=v+(h+u)*y(p),A="center",I="bottom";break;case"insideEndArc":D=c+(h-u)*m(p),S=v+(h-u)*y(p),A="center",I="top";break;case"endAngle":D=c+g*m(b)+zt(b,u+_,!0),S=v+g*y(b)+$t(b,u+_,!0),A="left",I="middle";break;case"insideEndAngle":D=c+g*m(b)+zt(b,-u+_,!0),S=v+g*y(b)+$t(b,-u+_,!0),A="right",I="middle";break;default:return sa(r,n,i)}return r=r||{},r.x=D,r.y=S,r.align=A,r.verticalAlign=I,r}}function ei(a,t,e,r){if(ut(r)){a.setTextConfig({rotation:r});return}else if(z(t)){a.setTextConfig({rotation:0});return}var n=a.shape,i=n.clockwise?n.startAngle:n.endAngle,o=n.clockwise?n.endAngle:n.startAngle,s=(i+o)/2,u,l=e(t);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=s;break;case"startAngle":case"insideStartAngle":u=i;break;case"endAngle":case"insideEndAngle":u=o;break;default:a.setTextConfig({rotation:0});return}var c=Math.PI*1.5-u;l==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),a.setTextConfig({rotation:c})}function zt(a,t,e){return t*Math.sin(a)*(e?-1:1)}function $t(a,t,e){return t*Math.cos(a)*(e?1:-1)}function ai(a,t,e){var r=a.get("borderRadius");if(r==null)return e?{cornerRadius:0}:null;z(r)||(r=[r,r,r,r]);var n=Math.abs(t.r||0-t.r0||0);return{cornerRadius:W(r,function(i){return $r(i,n)})}}var he=Math.max,fe=Math.min;function ri(a,t){var e=a.getArea&&a.getArea();if(se(a,"cartesian2d")){var r=a.getBaseAxis();if(r.type!=="category"||!r.onBand){var n=t.getLayout("bandWidth");r.isHorizontal()?(e.x-=n,e.width+=n*2):(e.y-=n,e.height+=n*2)}}return e}var ni=function(a){R(t,a);function t(){var e=a.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,r,n,i){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,r,n):this._renderNormal(e,r,n,i))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,r){this._progressiveEls=[],this._incrementalRenderLarge(e,r)},t.prototype.eachRendered=function(e){qr(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(e,r,n,i){var o=this.group,s=e.getData(),u=this._data,l=e.coordinateSystem,c=l.getBaseAxis(),v;l.type==="cartesian2d"?v=c.isHorizontal():l.type==="polar"&&(v=c.dim==="angle");var h=e.isAnimationEnabled()?e:null,f=ii(e,l);f&&this._enableRealtimeSort(f,s,n);var g=e.get("clip",!0)||f,d=ri(l,s);o.removeClipPath();var b=e.get("roundCap",!0),p=e.get("showBackground",!0),_=e.getModel("backgroundStyle"),m=_.get("borderRadius")||0,y=[],D=this._backgroundEls,S=i&&i.isInitSort,A=i&&i.type==="changeAxisOrder";function I(k){var w=qt[l.type](s,k),P=hi(l,v,w);return P.useStyle(_.getItemStyle()),l.type==="cartesian2d"?P.setShape("r",m):P.setShape("cornerRadius",m),y[k]=P,P}s.diff(u).add(function(k){var w=s.getItemModel(k),P=qt[l.type](s,k,w);if(p&&I(k),!(!s.hasValue(k)||!ka[l.type](P))){var M=!1;g&&(M=_a[l.type](d,P));var E=Da[l.type](e,s,k,P,v,h,c.model,!1,b);f&&(E.forceLabelAnimation=!0),Ia(E,s,k,w,P,e,v,l.type==="polar"),S?E.attr({shape:P}):f?Aa(f,h,E,P,k,v,!1,!1):Vt(E,{shape:P},e,k),s.setItemGraphicEl(k,E),o.add(E),E.ignore=M}}).update(function(k,w){var P=s.getItemModel(k),M=qt[l.type](s,k,P);if(p){var E=void 0;D.length===0?E=I(w):(E=D[w],E.useStyle(_.getItemStyle()),l.type==="cartesian2d"?E.setShape("r",m):E.setShape("cornerRadius",m),y[k]=E);var G=qt[l.type](s,k),j=ir(v,G,l);ct(E,{shape:j},h,k)}var V=u.getItemGraphicEl(w);if(!s.hasValue(k)||!ka[l.type](M)){o.remove(V);return}var T=!1;if(g&&(T=_a[l.type](d,M),T&&o.remove(V)),V?Wr(V):V=Da[l.type](e,s,k,M,v,h,c.model,!!V,b),f&&(V.forceLabelAnimation=!0),A){var J=V.getTextContent();if(J){var K=$a(J);K.prevValue!=null&&(K.prevValue=K.value)}}else Ia(V,s,k,P,M,e,v,l.type==="polar");S?V.attr({shape:M}):f?Aa(f,h,V,M,k,v,!0,A):ct(V,{shape:M},e,k,null),s.setItemGraphicEl(k,V),V.ignore=T,o.add(V)}).remove(function(k){var w=u.getItemGraphicEl(k);w&&la(w,e,k)}).execute();var L=this._backgroundGroup||(this._backgroundGroup=new Te);L.removeAll();for(var x=0;x<y.length;++x)L.add(y[x]);o.add(L),this._backgroundEls=y,this._data=s},t.prototype._renderLarge=function(e,r,n){this._clear(),Pa(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,r){this._removeBackground(),Pa(r,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var r=e.get("clip",!0)&&Ur(e.coordinateSystem,!1,e),n=this.group;r?n.setClipPath(r):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,r,n){var i=this;if(!!r.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,e,n),this._isFirstFrame=!1;else{var s=function(u){var l=r.getItemGraphicEl(u),c=l&&l.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){i._updateSortWithinSameData(r,s,o,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,r,n){var i=[];return e.each(e.mapDimension(r.dim),function(o,s){var u=n(s);u=u==null?NaN:u,i.push({dataIndex:s,mappedValue:u,ordinalNumber:o})}),i.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:W(i,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,r,n){for(var i=n.scale,o=e.mapDimension(n.dim),s=Number.MAX_VALUE,u=0,l=i.getOrdinalMeta().categories.length;u<l;++u){var c=e.rawIndexOf(o,i.getRawOrdinalNumber(u)),v=c<0?Number.MIN_VALUE:r(e.indexOfRawIndex(c));if(v>s)return!0;s=v}return!1},t.prototype._isOrderDifferentInView=function(e,r){for(var n=r.scale,i=n.getExtent(),o=Math.max(0,i[0]),s=Math.min(i[1],n.getOrdinalMeta().categories.length-1);o<=s;++o)if(e.ordinalNumbers[o]!==n.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,r,n,i){if(!!this._isOrderChangedWithinSameData(e,r,n)){var o=this._dataSort(e,n,r);this._isOrderDifferentInView(o,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,r,n){var i=r.baseAxis,o=this._dataSort(e,i,function(s){return e.get(e.mapDimension(r.otherAxis.dim),s)});n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},t.prototype.remove=function(e,r){this._clear(this._model),this._removeOnRenderedListener(r)},t.prototype.dispose=function(e,r){this._removeOnRenderedListener(r)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var r=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(i){la(i,e,rt(i).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Ct),_a={cartesian2d:function(a,t){var e=t.width<0?-1:1,r=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var n=a.x+a.width,i=a.y+a.height,o=he(t.x,a.x),s=fe(t.x+t.width,n),u=he(t.y,a.y),l=fe(t.y+t.height,i),c=s<o,v=l<u;return t.x=c&&o>n?s:o,t.y=v&&u>i?l:u,t.width=c?0:s-o,t.height=v?0:l-u,e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),c||v},polar:function(a,t){var e=t.r0<=t.r?1:-1;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}var n=fe(t.r,a.r),i=he(t.r0,a.r0);t.r=n,t.r0=i;var o=n-i<0;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}return o}},Da={cartesian2d:function(a,t,e,r,n,i,o,s,u){var l=new Wa({shape:q({},r),z2:1});if(l.__dataIndex=e,l.name="item",i){var c=l.shape,v=n?"height":"width";c[v]=0}return l},polar:function(a,t,e,r,n,i,o,s,u){var l=!n&&u?Sa:Ua,c=new l({shape:r,z2:1});c.name="item";var v=nr(n);if(c.calculateTextPosition=ti(v,{isRoundCap:l===Sa}),i){var h=c.shape,f=n?"r":"endAngle",g={};h[f]=n?r.r0:r.startAngle,g[f]=r[f],(s?ct:Vt)(c,{shape:g},i)}return c}};function ii(a,t){var e=a.get("realtimeSort",!0),r=t.getBaseAxis();if(e&&r.type==="category"&&t.type==="cartesian2d")return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}function Aa(a,t,e,r,n,i,o,s){var u,l;i?(l={x:r.x,width:r.width},u={y:r.y,height:r.height}):(l={y:r.y,height:r.height},u={x:r.x,width:r.width}),s||(o?ct:Vt)(e,{shape:u},t,n,null);var c=t?a.baseAxis.model:null;(o?ct:Vt)(e,{shape:l},c,n)}function wa(a,t){for(var e=0;e<t.length;e++)if(!isFinite(a[t[e]]))return!0;return!1}var oi=["x","y","width","height"],si=["cx","cy","r","startAngle","endAngle"],ka={cartesian2d:function(a){return!wa(a,oi)},polar:function(a){return!wa(a,si)}},qt={cartesian2d:function(a,t,e){var r=a.getItemLayout(t),n=e?ui(e,r):0,i=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+i*n/2,y:r.y+o*n/2,width:r.width-i*n,height:r.height-o*n}},polar:function(a,t,e){var r=a.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function li(a){return a.startAngle!=null&&a.endAngle!=null&&a.startAngle===a.endAngle}function nr(a){return function(t){var e=t?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+e;default:return r}}}(a)}function Ia(a,t,e,r,n,i,o,s){var u=t.getItemVisual(e,"style");if(s){if(!i.get("roundCap")){var c=a.shape,v=ai(r.getModel("itemStyle"),c,!0);q(c,v),a.setShape(c)}}else{var l=r.get(["itemStyle","borderRadius"])||0;a.setShape("r",l)}a.useStyle(u);var h=r.getShallow("cursor");h&&a.attr("cursor",h);var f=s?o?n.r>=n.r0?"endArc":"startArc":n.endAngle>=n.startAngle?"endAngle":"startAngle":o?n.height>=0?"bottom":"top":n.width>=0?"right":"left",g=za(r);Ga(a,g,{labelFetcher:i,labelDataIndex:e,defaultText:Fa(i.getData(),e),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:f});var d=a.getTextContent();if(s&&d){var b=r.get(["label","position"]);a.textConfig.inside=b==="middle"?!0:null,ei(a,b==="outside"?f:b,nr(o),r.get(["label","rotate"]))}Hr(d,g,i.getRawValue(e),function(_){return Ba(t,_)});var p=r.getModel(["emphasis"]);ke(a,p.get("focus"),p.get("blurScope"),p.get("disabled")),we(a,r),li(n)&&(a.style.fill="none",a.style.stroke="none",H(a.states,function(_){_.style&&(_.style.fill=_.style.stroke="none")}))}function ui(a,t){var e=a.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var r=a.get(["itemStyle","borderWidth"])||0,n=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),i=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,n,i)}var ci=function(){function a(){}return a}(),La=function(a){R(t,a);function t(e){var r=a.call(this,e)||this;return r.type="largeBar",r}return t.prototype.getDefaultShape=function(){return new ci},t.prototype.buildPath=function(e,r){for(var n=r.points,i=this.baseDimIdx,o=1-this.baseDimIdx,s=[],u=[],l=this.barWidth,c=0;c<n.length;c+=3)u[i]=l,u[o]=n[c+2],s[i]=n[c+i],s[o]=n[c+o],e.rect(s[0],s[1],u[0],u[1])},t}(ae);function Pa(a,t,e,r){var n=a.getData(),i=n.getLayout("valueAxisHorizontal")?1:0,o=n.getLayout("largeDataIndices"),s=n.getLayout("size"),u=a.getModel("backgroundStyle"),l=n.getLayout("largeBackgroundPoints");if(l){var c=new La({shape:{points:l},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=i,c.largeDataIndices=o,c.barWidth=s,c.useStyle(u.getItemStyle()),t.add(c),e&&e.push(c)}var v=new La({shape:{points:n.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});v.baseDimIdx=i,v.largeDataIndices=o,v.barWidth=s,t.add(v),v.useStyle(n.getVisual("style")),rt(v).seriesIndex=a.seriesIndex,a.get("silent")||(v.on("mousedown",xa),v.on("mousemove",xa)),e&&e.push(v)}var xa=jr(function(a){var t=this,e=vi(t,a.offsetX,a.offsetY);rt(t).dataIndex=e>=0?e:null},30,!1);function vi(a,t,e){for(var r=a.baseDimIdx,n=1-r,i=a.shape.points,o=a.largeDataIndices,s=[],u=[],l=a.barWidth,c=0,v=i.length/3;c<v;c++){var h=c*3;if(u[r]=l,u[n]=i[h+2],s[r]=i[h+r],s[n]=i[h+n],u[n]<0&&(s[n]+=u[n],u[n]=-u[n]),t>=s[0]&&t<=s[0]+u[0]&&e>=s[1]&&e<=s[1]+u[1])return o[c]}return-1}function ir(a,t,e){if(se(e,"cartesian2d")){var r=t,n=e.getArea();return{x:a?r.x:n.x,y:a?n.y:r.y,width:a?r.width:n.width,height:a?n.height:r.height}}else{var n=e.getArea(),i=t;return{cx:n.cx,cy:n.cy,r0:a?n.r0:i.r0,r:a?n.r:i.r,startAngle:a?i.startAngle:0,endAngle:a?i.endAngle:Math.PI*2}}}function hi(a,t,e){var r=a.type==="polar"?Ua:Wa;return new r({shape:ir(t,e,a),silent:!0,z2:0})}var fi=ni;function or(a){a.registerChartView(fi),a.registerSeriesModel(Yn),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,Y(Xr,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Kr("bar")),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,ar("bar")),a.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var r=t.componentType||"series";e.eachComponent({mainType:r,query:t},function(n){t.sortInfo&&n.axis.setCategorySortInfo(t.sortInfo)})})}var gi=function(){function a(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return a.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},a.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},a.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},a.prototype.getItemVisual=function(t,e){var r=this._getDataWithEncodedVisual();return r.getItemVisual(t,e)},a}(),di=gi,Q=re();function pi(a){var t=a.mainData,e=a.datas;e||(e={main:t},a.datasAttr={main:"data"}),a.datas=a.mainData=null,sr(t,e,a),H(e,function(r){H(t.TRANSFERABLE_METHODS,function(n){r.wrapMethod(n,Y(mi,a))})}),t.wrapMethod("cloneShallow",Y(bi,a)),H(t.CHANGABLE_METHODS,function(r){t.wrapMethod(r,Y(yi,a))}),Zr(e[t.dataType]===t)}function mi(a,t){if(Di(this)){var e=q({},Q(this).datas);e[this.dataType]=t,sr(t,e,a)}else Fe(t,this.dataType,Q(this).mainData,a);return t}function yi(a,t){return a.struct&&a.struct.update(),t}function bi(a,t){return H(Q(t).datas,function(e,r){e!==t&&Fe(e.cloneShallow(),r,t,a)}),t}function Si(a){var t=Q(this).mainData;return a==null||t==null?t:Q(t).datas[a]}function _i(){var a=Q(this).mainData;return a==null?[{data:a}]:W(Yr(Q(a).datas),function(t){return{type:t,data:Q(a).datas[t]}})}function Di(a){return Q(a).mainData===a}function sr(a,t,e){Q(a).datas={},H(t,function(r,n){Fe(r,n,a,e)})}function Fe(a,t,e,r){Q(e).datas[t]=a,Q(a).mainData=e,a.dataType=t,r.struct&&(a[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=a),a.getLinkedData=Si,a.getLinkedDataAll=_i}function Ai(a){var t=a.findComponents({mainType:"legend"});!t||!t.length||a.eachSeriesByType("graph",function(e){var r=e.getCategoriesData(),n=e.getGraph(),i=n.data,o=r.mapArray(r.getName);i.filterSelf(function(s){var u=i.getItemModel(s),l=u.getShallow("category");if(l!=null){ut(l)&&(l=o[l]);for(var c=0;c<t.length;c++)if(!t[c].isSelected(l))return!1}return!0})})}function wi(a){var t={};a.eachSeriesByType("graph",function(e){var r=e.getCategoriesData(),n=e.getData(),i={};r.each(function(o){var s=r.getName(o);i["ec-"+s]=o;var u=r.getItemModel(o),l=u.getModel("itemStyle").getItemStyle();l.fill||(l.fill=e.getColorFromPalette(s,t)),r.setItemVisual(o,"style",l);for(var c=["symbol","symbolSize","symbolKeepAspect"],v=0;v<c.length;v++){var h=u.getShallow(c[v],!0);h!=null&&r.setItemVisual(o,c[v],h)}}),r.count()&&n.each(function(o){var s=n.getItemModel(o),u=s.getShallow("category");if(u!=null){qa(u)&&(u=i["ec-"+u]);var l=r.getItemVisual(u,"style"),c=n.ensureUniqueItemVisual(o,"style");q(c,l);for(var v=["symbol","symbolSize","symbolKeepAspect"],h=0;h<v.length;h++)n.setItemVisual(o,v[h],r.getItemVisual(u,v[h]))}})})}function Wt(a){return a instanceof Array||(a=[a,a]),a}function ki(a){a.eachSeriesByType("graph",function(t){var e=t.getGraph(),r=t.getEdgeData(),n=Wt(t.get("edgeSymbol")),i=Wt(t.get("edgeSymbolSize"));r.setVisual("fromSymbol",n&&n[0]),r.setVisual("toSymbol",n&&n[1]),r.setVisual("fromSymbolSize",i&&i[0]),r.setVisual("toSymbolSize",i&&i[1]),r.setVisual("style",t.getModel("lineStyle").getLineStyle()),r.each(function(o){var s=r.getItemModel(o),u=e.getEdgeByIndex(o),l=Wt(s.getShallow("symbol",!0)),c=Wt(s.getShallow("symbolSize",!0)),v=s.getModel("lineStyle").getLineStyle(),h=r.ensureUniqueItemVisual(o,"style");switch(q(h,v),h.stroke){case"source":{var f=u.node1.getVisual("style");h.stroke=f&&f.fill;break}case"target":{var f=u.node2.getVisual("style");h.stroke=f&&f.fill;break}}l[0]&&u.setVisual("fromSymbol",l[0]),l[1]&&u.setVisual("toSymbol",l[1]),c[0]&&u.setVisual("fromSymbolSize",c[0]),c[1]&&u.setVisual("toSymbolSize",c[1])})})}var Ve="-->",le=function(a){return a.get("autoCurveness")||null},lr=function(a,t){var e=le(a),r=20,n=[];if(ut(e))r=e;else if(z(e)){a.__curvenessList=e;return}t>r&&(r=t);var i=r%2?r+2:r+3;n=[];for(var o=0;o<i;o++)n.push((o%2?o+1:o)/10*(o%2?-1:1));a.__curvenessList=n},Et=function(a,t,e){var r=[a.id,a.dataIndex].join("."),n=[t.id,t.dataIndex].join(".");return[e.uid,r,n].join(Ve)},ur=function(a){var t=a.split(Ve);return[t[0],t[2],t[1]].join(Ve)},Ii=function(a,t){var e=Et(a.node1,a.node2,t);return t.__edgeMap[e]},Li=function(a,t){var e=Ne(Et(a.node1,a.node2,t),t),r=Ne(Et(a.node2,a.node1,t),t);return e+r},Ne=function(a,t){var e=t.__edgeMap;return e[a]?e[a].length:0};function Pi(a){!le(a)||(a.__curvenessList=[],a.__edgeMap={},lr(a))}function xi(a,t,e,r){if(!!le(e)){var n=Et(a,t,e),i=e.__edgeMap,o=i[ur(n)];i[n]&&!o?i[n].isForward=!0:o&&i[n]&&(o.isForward=!0,i[n].isForward=!1),i[n]=i[n]||[],i[n].push(r)}}function ze(a,t,e,r){var n=le(t),i=z(n);if(!n)return null;var o=Ii(a,t);if(!o)return null;for(var s=-1,u=0;u<o.length;u++)if(o[u]===e){s=u;break}var l=Li(a,t);lr(t,l),a.lineStyle=a.lineStyle||{};var c=Et(a.node1,a.node2,t),v=t.__curvenessList,h=i||l%2?0:1;if(o.isForward)return v[h+s];var f=ur(c),g=Ne(f,t),d=v[s+g+h];return r?i?n&&n[0]===0?(g+h)%2?d:-d:((g%2?0:1)+h)%2?d:-d:(g+h)%2?d:-d:v[s+g+h]}function cr(a){var t=a.coordinateSystem;if(!(t&&t.type!=="view")){var e=a.getGraph();e.eachNode(function(r){var n=r.getModel();r.setLayout([+n.get("x"),+n.get("y")])}),$e(e,a)}}function $e(a,t){a.eachEdge(function(e,r){var n=Re(e.getModel().get(["lineStyle","curveness"]),-ze(e,t,r,!0),0),i=lt(e.node1.getLayout()),o=lt(e.node2.getLayout()),s=[i,o];+n&&s.push([(i[0]+o[0])/2-(i[1]-o[1])*n,(i[1]+o[1])/2-(o[0]-i[0])*n]),e.setLayout(s)})}function Ci(a,t){a.eachSeriesByType("graph",function(e){var r=e.get("layout"),n=e.coordinateSystem;if(n&&n.type!=="view"){var i=e.getData(),o=[];H(n.dimensions,function(h){o=o.concat(i.mapDimensionsAll(h))});for(var s=0;s<i.count();s++){for(var u=[],l=!1,c=0;c<o.length;c++){var v=i.get(o[c],s);isNaN(v)||(l=!0),u.push(v)}l?i.setItemLayout(s,n.dataToPoint(u)):i.setItemLayout(s,[NaN,NaN])}$e(i.graph,e)}else(!r||r==="none")&&cr(e)})}function Lt(a){var t=a.coordinateSystem;if(t.type!=="view")return 1;var e=a.option.nodeScaleRatio,r=t.scaleX,n=t.getZoom(),i=(n-1)*e+1;return i/r}function Pt(a){var t=a.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var Ca=Math.PI,ge=[];function qe(a,t,e,r){var n=a.coordinateSystem;if(!(n&&n.type!=="view")){var i=n.getBoundingRect(),o=a.getData(),s=o.graph,u=i.width/2+i.x,l=i.height/2+i.y,c=Math.min(i.width,i.height)/2,v=o.count();if(o.setLayout({cx:u,cy:l}),!!v){if(e){var h=n.pointToData(r),f=h[0],g=h[1],d=[f-u,g-l];Ge(d,d),Qr(d,d,c),e.setLayout([u+d[0],l+d[1]],!0);var b=a.get(["circular","rotateLabel"]);vr(e,b,u,l)}Vi[t](a,s,o,c,u,l,v),s.eachEdge(function(p,_){var m=Re(p.getModel().get(["lineStyle","curveness"]),ze(p,a,_),0),y=lt(p.node1.getLayout()),D=lt(p.node2.getLayout()),S,A=(y[0]+D[0])/2,I=(y[1]+D[1])/2;+m&&(m*=3,S=[u*m+A*(1-m),l*m+I*(1-m)]),p.setLayout([y,D,S])})}}}var Vi={value:function(a,t,e,r,n,i,o){var s=0,u=e.getSum("value"),l=Math.PI*2/(u||o);t.eachNode(function(c){var v=c.getValue("value"),h=l*(u?v:1)/2;s+=h,c.setLayout([r*Math.cos(s)+n,r*Math.sin(s)+i]),s+=h})},symbolSize:function(a,t,e,r,n,i,o){var s=0;ge.length=o;var u=Lt(a);t.eachNode(function(v){var h=Pt(v);isNaN(h)&&(h=2),h<0&&(h=0),h*=u;var f=Math.asin(h/2/r);isNaN(f)&&(f=Ca/2),ge[v.dataIndex]=f,s+=f*2});var l=(2*Ca-s)/o/2,c=0;t.eachNode(function(v){var h=l+ge[v.dataIndex];c+=h,(!v.getLayout()||!v.getLayout().fixed)&&v.setLayout([r*Math.cos(c)+n,r*Math.sin(c)+i]),c+=h})}};function vr(a,t,e,r){var n=a.getGraphicEl();if(!!n){var i=a.getModel(),o=i.get(["label","rotate"])||0,s=n.getSymbolPath();if(t){var u=a.getLayout(),l=Math.atan2(u[1]-r,u[0]-e);l<0&&(l=Math.PI*2+l);var c=u[0]<e;c&&(l=l-Math.PI);var v=c?"left":"right";s.setTextConfig({rotation:-l,position:v,origin:"center"});var h=s.ensureState("emphasis");q(h.textConfig||(h.textConfig={}),{position:v})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function Ni(a){a.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&qe(t,"symbolSize")})}var mt=Ie;function Ei(a,t,e){for(var r=a,n=t,i=e.rect,o=i.width,s=i.height,u=[i.x+o/2,i.y+s/2],l=e.gravity==null?.1:e.gravity,c=0;c<r.length;c++){var v=r[c];v.p||(v.p=Jr(o*(Math.random()-.5)+u[0],s*(Math.random()-.5)+u[1])),v.pp=lt(v.p),v.edges=null}var h=e.friction==null?.6:e.friction,f=h,g,d;return{warmUp:function(){f=h*.8},setFixed:function(b){r[b].fixed=!0},setUnfixed:function(b){r[b].fixed=!1},beforeStep:function(b){g=b},afterStep:function(b){d=b},step:function(b){g&&g(r,n);for(var p=[],_=r.length,m=0;m<n.length;m++){var y=n[m];if(!y.ignoreForceLayout){var D=y.n1,S=y.n2;It(p,S.p,D.p);var A=ua(p)-y.d,I=S.w/(D.w+S.w);isNaN(I)&&(I=0),Ge(p,p),!D.fixed&&mt(D.p,D.p,p,I*A*f),!S.fixed&&mt(S.p,S.p,p,-(1-I)*A*f)}}for(var m=0;m<_;m++){var L=r[m];L.fixed||(It(p,u,L.p),mt(L.p,L.p,p,l*f))}for(var m=0;m<_;m++)for(var D=r[m],x=m+1;x<_;x++){var S=r[x];It(p,S.p,D.p);var A=ua(p);A===0&&(tn(p,Math.random()-.5,Math.random()-.5),A=1);var k=(D.rep+S.rep)/A/A;!D.fixed&&mt(D.pp,D.pp,p,k),!S.fixed&&mt(S.pp,S.pp,p,-k)}for(var w=[],m=0;m<_;m++){var L=r[m];L.fixed||(It(w,L.p,L.pp),mt(L.p,L.p,w,f),$(L.pp,L.p))}f=f*.992;var P=f<.01;d&&d(r,n,P),b&&b(P)}}}function Mi(a){a.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!(e&&e.type!=="view"))if(t.get("layout")==="force"){var r=t.preservedPoints||{},n=t.getGraph(),i=n.data,o=n.edgeData,s=t.getModel("force"),u=s.get("initLayout");t.preservedPoints?i.each(function(m){var y=i.getId(m);i.setItemLayout(m,r[y]||[NaN,NaN])}):!u||u==="none"?cr(t):u==="circular"&&qe(t,"value");var l=i.getDataExtent("value"),c=o.getDataExtent("value"),v=s.get("repulsion"),h=s.get("edgeLength"),f=z(v)?v:[v,v],g=z(h)?h:[h,h];g=[g[1],g[0]];var d=i.mapArray("value",function(m,y){var D=i.getItemLayout(y),S=ca(m,l,f);return isNaN(S)&&(S=(f[0]+f[1])/2),{w:S,rep:S,fixed:i.getItemModel(y).get("fixed"),p:!D||isNaN(D[0])||isNaN(D[1])?null:D}}),b=o.mapArray("value",function(m,y){var D=n.getEdgeByIndex(y),S=ca(m,c,g);isNaN(S)&&(S=(g[0]+g[1])/2);var A=D.getModel(),I=Re(D.getModel().get(["lineStyle","curveness"]),-ze(D,t,y,!0),0);return{n1:d[D.node1.dataIndex],n2:d[D.node2.dataIndex],d:S,curveness:I,ignoreForceLayout:A.get("ignoreForceLayout")}}),p=e.getBoundingRect(),_=Ei(d,b,{rect:p,gravity:s.get("gravity"),friction:s.get("friction")});_.beforeStep(function(m,y){for(var D=0,S=m.length;D<S;D++)m[D].fixed&&$(m[D].p,n.getNodeByIndex(D).getLayout())}),_.afterStep(function(m,y,D){for(var S=0,A=m.length;S<A;S++)m[S].fixed||n.getNodeByIndex(S).setLayout(m[S].p),r[i.getId(S)]=m[S].p;for(var S=0,A=y.length;S<A;S++){var I=y[S],L=n.getEdgeByIndex(S),x=I.n1.p,k=I.n2.p,w=L.getLayout();w=w?w.slice():[],w[0]=w[0]||[],w[1]=w[1]||[],$(w[0],x),$(w[1],k),+I.curveness&&(w[2]=[(x[0]+k[0])/2-(x[1]-k[1])*I.curveness,(x[1]+k[1])/2-(k[0]-x[0])*I.curveness]),L.setLayout(w)}}),t.forceLayout=_,t.preservedPoints=r,_.step()}else t.forceLayout=null})}function Ti(a,t,e){var r=q(a.getBoxLayoutParams(),{aspect:e});return an(r,{width:t.getWidth(),height:t.getHeight()})}function Oi(a,t){var e=[];return a.eachSeriesByType("graph",function(r){var n=r.get("coordinateSystem");if(!n||n==="view"){var i=r.getData(),o=i.mapArray(function(b){var p=i.getItemModel(b);return[+p.get("x"),+p.get("y")]}),s=[],u=[];en(o,s,u),u[0]-s[0]===0&&(u[0]+=1,s[0]-=1),u[1]-s[1]===0&&(u[1]+=1,s[1]-=1);var l=(u[0]-s[0])/(u[1]-s[1]),c=Ti(r,t,l);isNaN(l)&&(s=[c.x,c.y],u=[c.x+c.width,c.y+c.height]);var v=u[0]-s[0],h=u[1]-s[1],f=c.width,g=c.height,d=r.coordinateSystem=new Ha;d.zoomLimit=r.get("scaleLimit"),d.setBoundingRect(s[0],s[1],v,h),d.setViewRect(c.x,c.y,f,g),d.setCenter(r.get("center"),t),d.setZoom(r.get("zoom")),e.push(d)}}),e}var de=[],pe=[],me=[],yt=nn,ye=on,Va=Math.abs;function Na(a,t,e){for(var r=a[0],n=a[1],i=a[2],o=1/0,s,u=e*e,l=.1,c=.1;c<=.9;c+=.1){de[0]=yt(r[0],n[0],i[0],c),de[1]=yt(r[1],n[1],i[1],c);var v=Va(ye(de,t)-u);v<o&&(o=v,s=c)}for(var h=0;h<32;h++){var f=s+l;pe[0]=yt(r[0],n[0],i[0],s),pe[1]=yt(r[1],n[1],i[1],s),me[0]=yt(r[0],n[0],i[0],f),me[1]=yt(r[1],n[1],i[1],f);var v=ye(pe,t)-u;if(Va(v)<.01)break;var g=ye(me,t)-u;l/=2,v<0?g>=0?s=s+l:s=s-l:g>=0?s=s-l:s=s+l}return s}function be(a,t){var e=[],r=rn,n=[[],[],[]],i=[[],[]],o=[];t/=2,a.eachEdge(function(s,u){var l=s.getLayout(),c=s.getVisual("fromSymbol"),v=s.getVisual("toSymbol");l.__original||(l.__original=[lt(l[0]),lt(l[1])],l[2]&&l.__original.push(lt(l[2])));var h=l.__original;if(l[2]!=null){if($(n[0],h[0]),$(n[1],h[2]),$(n[2],h[1]),c&&c!=="none"){var f=Pt(s.node1),g=Na(n,h[0],f*t);r(n[0][0],n[1][0],n[2][0],g,e),n[0][0]=e[3],n[1][0]=e[4],r(n[0][1],n[1][1],n[2][1],g,e),n[0][1]=e[3],n[1][1]=e[4]}if(v&&v!=="none"){var f=Pt(s.node2),g=Na(n,h[1],f*t);r(n[0][0],n[1][0],n[2][0],g,e),n[1][0]=e[1],n[2][0]=e[2],r(n[0][1],n[1][1],n[2][1],g,e),n[1][1]=e[1],n[2][1]=e[2]}$(l[0],n[0]),$(l[1],n[2]),$(l[2],n[1])}else{if($(i[0],h[0]),$(i[1],h[1]),It(o,i[1],i[0]),Ge(o,o),c&&c!=="none"){var f=Pt(s.node1);Ie(i[0],i[0],o,f*t)}if(v&&v!=="none"){var f=Pt(s.node2);Ie(i[1],i[1],o,-f*t)}$(l[0],i[0]),$(l[1],i[1])}})}function Ea(a){return a.type==="view"}var Ri=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,r){var n=new Oe,i=new ja,o=this.group;this._controller=new sn(r.getZr()),this._controllerHost={target:o},o.add(n.group),o.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},t.prototype.render=function(e,r,n){var i=this,o=e.coordinateSystem;this._model=e;var s=this._symbolDraw,u=this._lineDraw,l=this.group;if(Ea(o)){var c={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?l.attr(c):ct(l,c,e)}be(e.getGraph(),Lt(e));var v=e.getData();s.updateData(v);var h=e.getEdgeData();u.updateData(h),this._updateNodeAndLinkScale(),this._updateController(e,r,n),clearTimeout(this._layoutTimeout);var f=e.forceLayout,g=e.get(["force","layoutAnimation"]);f&&this._startForceLayoutIteration(f,g);var d=e.get("layout");v.graph.eachNode(function(m){var y=m.dataIndex,D=m.getGraphicEl(),S=m.getModel();if(!!D){D.off("drag").off("dragend");var A=S.get("draggable");A&&D.on("drag",function(L){switch(d){case"force":f.warmUp(),!i._layouting&&i._startForceLayoutIteration(f,g),f.setFixed(y),v.setItemLayout(y,[D.x,D.y]);break;case"circular":v.setItemLayout(y,[D.x,D.y]),m.setLayout({fixed:!0},!0),qe(e,"symbolSize",m,[L.offsetX,L.offsetY]),i.updateLayout(e);break;case"none":default:v.setItemLayout(y,[D.x,D.y]),$e(e.getGraph(),e),i.updateLayout(e);break}}).on("dragend",function(){f&&f.setUnfixed(y)}),D.setDraggable(A,!!S.get("cursor"));var I=S.get(["emphasis","focus"]);I==="adjacency"&&(rt(D).focus=m.getAdjacentDataIndices())}}),v.graph.eachEdge(function(m){var y=m.getGraphicEl(),D=m.getModel().get(["emphasis","focus"]);!y||D==="adjacency"&&(rt(y).focus={edge:[m.dataIndex],node:[m.node1.dataIndex,m.node2.dataIndex]})});var b=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]),p=v.getLayout("cx"),_=v.getLayout("cy");v.graph.eachNode(function(m){vr(m,b,p,_)}),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,r){var n=this;(function i(){e.step(function(o){n.updateLayout(n._model),(n._layouting=!o)&&(r?n._layoutTimeout=setTimeout(i,16):i())})})()},t.prototype._updateController=function(e,r,n){var i=this,o=this._controller,s=this._controllerHost,u=this.group;if(o.setPointerChecker(function(l,c,v){var h=u.getBoundingRect();return h.applyTransform(u.transform),h.contain(c,v)&&!ln(l,n,e)}),!Ea(e.coordinateSystem)){o.disable();return}o.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(l){un(s,l.dx,l.dy),n.dispatchAction({seriesId:e.id,type:"graphRoam",dx:l.dx,dy:l.dy})}).on("zoom",function(l){cn(s,l.scale,l.originX,l.originY),n.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:l.scale,originX:l.originX,originY:l.originY}),i._updateNodeAndLinkScale(),be(e.getGraph(),Lt(e)),i._lineDraw.updateLayout(),n.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,r=e.getData(),n=Lt(e);r.eachItemGraphicEl(function(i,o){i&&i.setSymbolScale(n)})},t.prototype.updateLayout=function(e){be(e.getGraph(),Lt(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(Ct),Gi=Ri;function bt(a){return"_EC_"+a}var Bi=function(){function a(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return a.prototype.isDirected=function(){return this._directed},a.prototype.addNode=function(t,e){t=t==null?""+e:""+t;var r=this._nodesMap;if(!r[bt(t)]){var n=new vt(t,e);return n.hostGraph=this,this.nodes.push(n),r[bt(t)]=n,n}},a.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},a.prototype.getNodeById=function(t){return this._nodesMap[bt(t)]},a.prototype.addEdge=function(t,e,r){var n=this._nodesMap,i=this._edgesMap;if(ut(t)&&(t=this.nodes[t]),ut(e)&&(e=this.nodes[e]),t instanceof vt||(t=n[bt(t)]),e instanceof vt||(e=n[bt(e)]),!(!t||!e)){var o=t.id+"-"+e.id,s=new hr(t,e,r);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),e.inEdges.push(s)),t.edges.push(s),t!==e&&e.edges.push(s),this.edges.push(s),i[o]=s,s}},a.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},a.prototype.getEdge=function(t,e){t instanceof vt&&(t=t.id),e instanceof vt&&(e=e.id);var r=this._edgesMap;return this._directed?r[t+"-"+e]:r[t+"-"+e]||r[e+"-"+t]},a.prototype.eachNode=function(t,e){for(var r=this.nodes,n=r.length,i=0;i<n;i++)r[i].dataIndex>=0&&t.call(e,r[i],i)},a.prototype.eachEdge=function(t,e){for(var r=this.edges,n=r.length,i=0;i<n;i++)r[i].dataIndex>=0&&r[i].node1.dataIndex>=0&&r[i].node2.dataIndex>=0&&t.call(e,r[i],i)},a.prototype.breadthFirstTraverse=function(t,e,r,n){if(e instanceof vt||(e=this._nodesMap[bt(e)]),!!e){for(var i=r==="out"?"outEdges":r==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(n,e,null))for(var s=[e];s.length;)for(var u=s.shift(),l=u[i],o=0;o<l.length;o++){var c=l[o],v=c.node1===u?c.node2:c.node1;if(!v.__visited){if(t.call(n,v,u))return;s.push(v),v.__visited=!0}}}},a.prototype.update=function(){for(var t=this.data,e=this.edgeData,r=this.nodes,n=this.edges,i=0,o=r.length;i<o;i++)r[i].dataIndex=-1;for(var i=0,o=t.count();i<o;i++)r[t.getRawIndex(i)].dataIndex=i;e.filterSelf(function(s){var u=n[e.getRawIndex(s)];return u.node1.dataIndex>=0&&u.node2.dataIndex>=0});for(var i=0,o=n.length;i<o;i++)n[i].dataIndex=-1;for(var i=0,o=e.count();i<o;i++)n[e.getRawIndex(i)].dataIndex=i},a.prototype.clone=function(){for(var t=new a(this._directed),e=this.nodes,r=this.edges,n=0;n<e.length;n++)t.addNode(e[n].id,e[n].dataIndex);for(var n=0;n<r.length;n++){var i=r[n];t.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return t},a}(),vt=function(){function a(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t==null?"":t,this.dataIndex=e==null?-1:e}return a.prototype.degree=function(){return this.edges.length},a.prototype.inDegree=function(){return this.inEdges.length},a.prototype.outDegree=function(){return this.outEdges.length},a.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,r=e.data.getItemModel(this.dataIndex);return r.getModel(t)}},a.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var r=this.edges[e];r.dataIndex<0||(t.edge.push(r.dataIndex),t.node.push(r.node1.dataIndex,r.node2.dataIndex))}return t},a.prototype.getTrajectoryDataIndices=function(){for(var t=Nt(),e=Nt(),r=0;r<this.edges.length;r++){var n=this.edges[r];if(!(n.dataIndex<0)){t.set(n.dataIndex,!0);for(var i=[n.node1],o=[n.node2],s=0;s<i.length;){var u=i[s];s++,e.set(u.dataIndex,!0);for(var l=0;l<u.inEdges.length;l++)t.set(u.inEdges[l].dataIndex,!0),i.push(u.inEdges[l].node1)}for(s=0;s<o.length;){var c=o[s];s++,e.set(c.dataIndex,!0);for(var l=0;l<c.outEdges.length;l++)t.set(c.outEdges[l].dataIndex,!0),o.push(c.outEdges[l].node2)}}}return{edge:t.keys(),node:e.keys()}},a}(),hr=function(){function a(t,e,r){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=r==null?-1:r}return a.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,r=e.edgeData.getItemModel(this.dataIndex);return r.getModel(t)}},a.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},a.prototype.getTrajectoryDataIndices=function(){var t=Nt(),e=Nt();t.set(this.dataIndex,!0);for(var r=[this.node1],n=[this.node2],i=0;i<r.length;){var o=r[i];i++,e.set(o.dataIndex,!0);for(var s=0;s<o.inEdges.length;s++)t.set(o.inEdges[s].dataIndex,!0),r.push(o.inEdges[s].node1)}for(i=0;i<n.length;){var u=n[i];i++,e.set(u.dataIndex,!0);for(var s=0;s<u.outEdges.length;s++)t.set(u.outEdges[s].dataIndex,!0),n.push(u.outEdges[s].node2)}return{edge:t.keys(),node:e.keys()}},a}();function fr(a,t){return{getValue:function(e){var r=this[a][t];return r.getStore().get(r.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,r){this.dataIndex>=0&&this[a][t].setItemVisual(this.dataIndex,e,r)},getVisual:function(e){return this[a][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,r){this.dataIndex>=0&&this[a][t].setItemLayout(this.dataIndex,e,r)},getLayout:function(){return this[a][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][t].getRawIndex(this.dataIndex)}}}Be(vt,fr("hostGraph","data"));Be(hr,fr("hostGraph","edgeData"));var Fi=Bi;function zi(a,t,e,r,n){for(var i=new Fi(r),o=0;o<a.length;o++)i.addNode(Le(a[o].id,a[o].name,o),o);for(var s=[],u=[],l=0,o=0;o<t.length;o++){var c=t[o],v=c.source,h=c.target;i.addEdge(v,h,l)&&(u.push(c),s.push(Le(vn(c.id,null),v+" > "+h)),l++)}var f=e.get("coordinateSystem"),g;if(f==="cartesian2d"||f==="polar")g=te(a,e);else{var d=hn.get(f),b=d?d.dimensions||[]:[];Pe(b,"value")<0&&b.concat(["value"]);var p=fn(a,{coordDimensions:b,encodeDefine:e.getEncode()}).dimensions;g=new ft(p,e),g.initData(a)}var _=new ft(["value"],e);return _.initData(u,s),n&&n(g,_),pi({mainData:g,struct:i,structAttr:"graph",datas:{node:g,edge:_},datasAttr:{node:"data",edge:"edgeData"}}),i.update(),i}var $i=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){a.prototype.init.apply(this,arguments);var r=this;function n(){return r._categoriesData}this.legendVisualProvider=new di(n,n),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){a.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){a.prototype.mergeDefaultAndTheme.apply(this,arguments),Ka(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,r){var n=e.edges||e.links||[],i=e.data||e.nodes||[],o=this;if(i&&n){Pi(this);var s=zi(i,n,this,!0,u);return H(s.edges,function(l){xi(l.node1,l.node2,this,l.dataIndex)},this),s.data}function u(l,c){l.wrapMethod("getItemModel",function(g){var d=o._categoriesModels,b=g.getShallow("category"),p=d[b];return p&&(p.parentModel=g.parentModel,g.parentModel=p),g});var v=gn.prototype.getModel;function h(g,d){var b=v.call(this,g,d);return b.resolveParentPath=f,b}c.wrapMethod("getItemModel",function(g){return g.resolveParentPath=f,g.getModel=h,g});function f(g){if(g&&(g[0]==="label"||g[1]==="label")){var d=g.slice();return g[0]==="label"?d[0]="edgeLabel":g[1]==="label"&&(d[1]="edgeLabel"),d}return g}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,r,n){if(n==="edge"){var i=this.getData(),o=this.getDataParams(e,n),s=i.graph.getEdgeByIndex(e),u=i.getName(s.node1.dataIndex),l=i.getName(s.node2.dataIndex),c=[];return u!=null&&c.push(u),l!=null&&c.push(l),xe("nameValue",{name:c.join(" > "),value:o.value,noValue:o.value==null})}var v=dn({series:this,dataIndex:e,multipleSeries:r});return v},t.prototype._updateCategoriesData=function(){var e=W(this.option.categories||[],function(n){return n.value!=null?n:q({value:0},n)}),r=new ft(["value"],this);r.initData(e),this._categoriesData=r,this._categoriesModels=r.mapArray(function(n){return r.getItemModel(n)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return a.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(ee),qi=$i,Wi={type:"graphRoam",event:"graphRoam",update:"none"};function Ui(a){a.registerChartView(Gi),a.registerSeriesModel(qi),a.registerProcessor(Ai),a.registerVisual(wi),a.registerVisual(ki),a.registerLayout(Ci),a.registerLayout(a.PRIORITY.VISUAL.POST_CHART_LAYOUT,Ni),a.registerLayout(Mi),a.registerCoordinateSystem("graphView",{dimensions:Ha.dimensions,create:Oi}),a.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},va),a.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},va),a.registerAction(Wi,function(t,e,r){e.eachComponent({mainType:"series",query:t},function(n){var i=n.coordinateSystem,o=pn(i,t,void 0,r);n.setCenter&&n.setCenter(o.center),n.setZoom&&n.setZoom(o.zoom)})})}function We(a){St(mn),St(yn)}function gr(a,t){if(!a)return!1;for(var e=z(a)?a:[a],r=0;r<e.length;r++)if(e[r]&&e[r][t])return!0;return!1}function Ut(a){Ka(a,"label",["show"])}var Ht=re(),dr=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return t.prototype.init=function(e,r,n){this.mergeDefaultAndTheme(e,n),this._mergeOption(e,n,!1,!0)},t.prototype.isAnimationEnabled=function(){if(bn.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,r){this._mergeOption(e,r,!1,!1)},t.prototype._mergeOption=function(e,r,n,i){var o=this.mainType;n||r.eachSeries(function(s){var u=s.get(this.mainType,!0),l=Ht(s)[o];if(!u||!u.data){Ht(s)[o]=null;return}l?l._mergeOption(u,r,!0):(i&&Ut(u),H(u.data,function(c){c instanceof Array?(Ut(c[0]),Ut(c[1])):Ut(c)}),l=this.createMarkerModelFromSeries(u,this,r),q(l,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),l.__hostSeries=s),Ht(s)[o]=l},this)},t.prototype.formatTooltip=function(e,r,n){var i=this.getData(),o=this.getRawValue(e),s=i.getName(e);return xe("section",{header:this.name,blocks:[xe("nameValue",{name:s,value:o,noName:!s,noValue:o==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,r){return Ht(e)[r]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(Sn);Be(dr,_n.prototype);var _t=dr,Hi=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,r,n){return new t(e,r,n)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(_t),ji=Hi;function Ki(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function Xi(a){return!isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function jt(a,t,e,r,n,i){var o=[],s=Ae(t,r),u=s?t.getCalculationInfo("stackResultDimension"):r,l=Ue(t,u,a),c=t.indicesOfNearest(u,l)[0];o[n]=t.get(e,c),o[i]=t.get(u,c);var v=t.get(r,c),h=Dn(t.get(r,c));return h=Math.min(h,20),h>=0&&(o[i]=+o[i].toFixed(h)),[o,v]}var Se={min:Y(jt,"min"),max:Y(jt,"max"),average:Y(jt,"average"),median:Y(jt,"median")};function Ee(a,t){if(!!t){var e=a.getData(),r=a.coordinateSystem,n=r&&r.dimensions;if(!Xi(t)&&!z(t.coord)&&z(n)){var i=pr(t,e,r,a);if(t=Xa(t),t.type&&Se[t.type]&&i.baseAxis&&i.valueAxis){var o=Pe(n,i.baseAxis.dim),s=Pe(n,i.valueAxis.dim),u=Se[t.type](e,i.baseDataDim,i.valueDataDim,o,s);t.coord=u[0],t.value=u[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!z(n))t.coord=[];else for(var l=t.coord,c=0;c<2;c++)Se[l[c]]&&(l[c]=Ue(e,e.mapDimension(n[c]),l[c]));return t}}function pr(a,t,e,r){var n={};return a.valueIndex!=null||a.valueDim!=null?(n.valueDataDim=a.valueIndex!=null?t.getDimension(a.valueIndex):a.valueDim,n.valueAxis=e.getAxis(Zi(r,n.valueDataDim)),n.baseAxis=e.getOtherAxis(n.valueAxis),n.baseDataDim=t.mapDimension(n.baseAxis.dim)):(n.baseAxis=r.getBaseAxis(),n.valueAxis=e.getOtherAxis(n.baseAxis),n.baseDataDim=t.mapDimension(n.baseAxis.dim),n.valueDataDim=t.mapDimension(n.valueAxis.dim)),n}function Zi(a,t){var e=a.getData().getDimensionInfo(t);return e&&e.coordDim}function Me(a,t){return a&&a.containData&&t.coord&&!Ki(t)?a.containData(t.coord):!0}function mr(a,t){return a?function(e,r,n,i){var o=i<2?e.coord&&e.coord[i]:e.value;return ha(o,t[i])}:function(e,r,n,i){return ha(e.value,t[i])}}function Ue(a,t,e){if(e==="average"){var r=0,n=0;return a.each(t,function(i,o){isNaN(i)||(r+=i,n++)}),r/n}else return e==="median"?a.getMedian(t):a.getDataExtent(t)[e==="max"?1:0]}var _e=re(),Yi=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this.markerGroupMap=Nt()},t.prototype.render=function(e,r,n){var i=this,o=this.markerGroupMap;o.each(function(s){_e(s).keep=!1}),r.eachSeries(function(s){var u=_t.getMarkerModelFromSeries(s,i.type);u&&i.renderSeries(s,u,r,n)}),o.each(function(s){!_e(s).keep&&i.group.remove(s.group)})},t.prototype.markKeep=function(e){_e(e).keep=!0},t.prototype.toggleBlurSeries=function(e,r){var n=this;H(e,function(i){var o=_t.getMarkerModelFromSeries(i,n.type);if(o){var s=o.getData();s.eachItemGraphicEl(function(u){u&&(r?An(u):wn(u))})}})},t.type="marker",t}(kn),yr=Yi;function Ma(a,t,e){var r=t.coordinateSystem;a.each(function(n){var i=a.getItemModel(n),o,s=Zt(i.get("x"),e.getWidth()),u=Zt(i.get("y"),e.getHeight());if(!isNaN(s)&&!isNaN(u))o=[s,u];else if(t.getMarkerPosition)o=t.getMarkerPosition(a.getValues(a.dimensions,n));else if(r){var l=a.get(r.dimensions[0],n),c=a.get(r.dimensions[1],n);o=r.dataToPoint([l,c])}isNaN(s)||(o[0]=s),isNaN(u)||(o[1]=u),a.setItemLayout(n,o)})}var Qi=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,r,n){r.eachSeries(function(i){var o=_t.getMarkerModelFromSeries(i,"markPoint");o&&(Ma(o.getData(),i,n),this.markerGroupMap.get(i.id).updateLayout())},this)},t.prototype.renderSeries=function(e,r,n,i){var o=e.coordinateSystem,s=e.id,u=e.getData(),l=this.markerGroupMap,c=l.get(s)||l.set(s,new Oe),v=Ji(o,e,r);r.setData(v),Ma(r.getData(),e,i),v.each(function(h){var f=v.getItemModel(h),g=f.getShallow("symbol"),d=f.getShallow("symbolSize"),b=f.getShallow("symbolRotate"),p=f.getShallow("symbolOffset"),_=f.getShallow("symbolKeepAspect");if(X(g)||X(d)||X(b)||X(p)){var m=r.getRawValue(h),y=r.getDataParams(h);X(g)&&(g=g(m,y)),X(d)&&(d=d(m,y)),X(b)&&(b=b(m,y)),X(p)&&(p=p(m,y))}var D=f.getModel("itemStyle").getItemStyle(),S=Za(u,"color");D.fill||(D.fill=S),v.setItemVisual(h,{symbol:g,symbolSize:d,symbolRotate:b,symbolOffset:p,symbolKeepAspect:_,style:D})}),c.updateData(v),this.group.add(c.group),v.eachItemGraphicEl(function(h){h.traverse(function(f){rt(f).dataModel=r})}),this.markKeep(c),c.group.silent=r.get("silent")||e.get("silent")},t.type="markPoint",t}(yr);function Ji(a,t,e){var r;a?r=W(a&&a.dimensions,function(s){var u=t.getData().getDimensionInfo(t.getData().mapDimension(s))||{};return q(q({},u),{name:s,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var n=new ft(r,e),i=W(e.get("data"),Y(Ee,t));a&&(i=Ya(i,Y(Me,a)));var o=mr(!!a,r);return n.initData(i,null,o),n}var to=Qi;function He(a){a.registerComponentModel(ji),a.registerComponentView(to),a.registerPreprocessor(function(t){gr(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var eo=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,r,n){return new t(e,r,n)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(_t),ao=eo,Kt=re(),ro=function(a,t,e,r){var n=a.getData(),i;if(z(r))i=r;else{var o=r.type;if(o==="min"||o==="max"||o==="average"||o==="median"||r.xAxis!=null||r.yAxis!=null){var s=void 0,u=void 0;if(r.yAxis!=null||r.xAxis!=null)s=t.getAxis(r.yAxis!=null?"y":"x"),u=Le(r.yAxis,r.xAxis);else{var l=pr(r,n,t,a);s=l.valueAxis;var c=In(n,l.valueDataDim);u=Ue(n,c,o)}var v=s.dim==="x"?0:1,h=1-v,f=Xa(r),g={coord:[]};f.type=null,f.coord=[],f.coord[h]=-1/0,g.coord[h]=1/0;var d=e.get("precision");d>=0&&ut(u)&&(u=+u.toFixed(Math.min(d,20))),f.coord[v]=g.coord[v]=u,i=[f,g,{type:o,valueIndex:r.valueIndex,value:u}]}else i=[]}var b=[Ee(a,i[0]),Ee(a,i[1]),q({},i[2])];return b[2].type=b[2].type||null,fa(b[2],b[0]),fa(b[2],b[1]),b};function Yt(a){return!isNaN(a)&&!isFinite(a)}function Ta(a,t,e,r){var n=1-a,i=r.dimensions[a];return Yt(t[n])&&Yt(e[n])&&t[a]===e[a]&&r.getAxis(i).containData(t[a])}function no(a,t){if(a.type==="cartesian2d"){var e=t[0].coord,r=t[1].coord;if(e&&r&&(Ta(1,e,r,a)||Ta(0,e,r,a)))return!0}return Me(a,t[0])&&Me(a,t[1])}function De(a,t,e,r,n){var i=r.coordinateSystem,o=a.getItemModel(t),s,u=Zt(o.get("x"),n.getWidth()),l=Zt(o.get("y"),n.getHeight());if(!isNaN(u)&&!isNaN(l))s=[u,l];else{if(r.getMarkerPosition)s=r.getMarkerPosition(a.getValues(a.dimensions,t));else{var c=i.dimensions,v=a.get(c[0],t),h=a.get(c[1],t);s=i.dataToPoint([v,h])}if(se(i,"cartesian2d")){var f=i.getAxis("x"),g=i.getAxis("y"),c=i.dimensions;Yt(a.get(c[0],t))?s[0]=f.toGlobalCoord(f.getExtent()[e?0:1]):Yt(a.get(c[1],t))&&(s[1]=g.toGlobalCoord(g.getExtent()[e?0:1]))}isNaN(u)||(s[0]=u),isNaN(l)||(s[1]=l)}a.setItemLayout(t,s)}var io=function(a){R(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,r,n){r.eachSeries(function(i){var o=_t.getMarkerModelFromSeries(i,"markLine");if(o){var s=o.getData(),u=Kt(o).from,l=Kt(o).to;u.each(function(c){De(u,c,!0,i,n),De(l,c,!1,i,n)}),s.each(function(c){s.setItemLayout(c,[u.getItemLayout(c),l.getItemLayout(c)])}),this.markerGroupMap.get(i.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,r,n,i){var o=e.coordinateSystem,s=e.id,u=e.getData(),l=this.markerGroupMap,c=l.get(s)||l.set(s,new ja);this.group.add(c.group);var v=oo(o,e,r),h=v.from,f=v.to,g=v.line;Kt(r).from=h,Kt(r).to=f,r.setData(g);var d=r.get("symbol"),b=r.get("symbolSize"),p=r.get("symbolRotate"),_=r.get("symbolOffset");z(d)||(d=[d,d]),z(b)||(b=[b,b]),z(p)||(p=[p,p]),z(_)||(_=[_,_]),v.from.each(function(y){m(h,y,!0),m(f,y,!1)}),g.each(function(y){var D=g.getItemModel(y).getModel("lineStyle").getLineStyle();g.setItemLayout(y,[h.getItemLayout(y),f.getItemLayout(y)]),D.stroke==null&&(D.stroke=h.getItemVisual(y,"style").fill),g.setItemVisual(y,{fromSymbolKeepAspect:h.getItemVisual(y,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(y,"symbolOffset"),fromSymbolRotate:h.getItemVisual(y,"symbolRotate"),fromSymbolSize:h.getItemVisual(y,"symbolSize"),fromSymbol:h.getItemVisual(y,"symbol"),toSymbolKeepAspect:f.getItemVisual(y,"symbolKeepAspect"),toSymbolOffset:f.getItemVisual(y,"symbolOffset"),toSymbolRotate:f.getItemVisual(y,"symbolRotate"),toSymbolSize:f.getItemVisual(y,"symbolSize"),toSymbol:f.getItemVisual(y,"symbol"),style:D})}),c.updateData(g),v.line.eachItemGraphicEl(function(y){rt(y).dataModel=r,y.traverse(function(D){rt(D).dataModel=r})});function m(y,D,S){var A=y.getItemModel(D);De(y,D,S,e,i);var I=A.getModel("itemStyle").getItemStyle();I.fill==null&&(I.fill=Za(u,"color")),y.setItemVisual(D,{symbolKeepAspect:A.get("symbolKeepAspect"),symbolOffset:Ft(A.get("symbolOffset",!0),_[S?0:1]),symbolRotate:Ft(A.get("symbolRotate",!0),p[S?0:1]),symbolSize:Ft(A.get("symbolSize"),b[S?0:1]),symbol:Ft(A.get("symbol",!0),d[S?0:1]),style:I})}this.markKeep(c),c.group.silent=r.get("silent")||e.get("silent")},t.type="markLine",t}(yr);function oo(a,t,e){var r;a?r=W(a&&a.dimensions,function(l){var c=t.getData().getDimensionInfo(t.getData().mapDimension(l))||{};return q(q({},c),{name:l,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var n=new ft(r,e),i=new ft(r,e),o=new ft([],e),s=W(e.get("data"),Y(ro,t,a,e));a&&(s=Ya(s,Y(no,a)));var u=mr(!!a,r);return n.initData(W(s,function(l){return l[0]}),null,u),i.initData(W(s,function(l){return l[1]}),null,u),o.initData(W(s,function(l){return l[2]})),o.hasItemOption=!0,{from:n,to:i,line:o}}var so=io;function br(a){a.registerComponentModel(ao),a.registerComponentView(so),a.registerPreprocessor(function(t){gr(t.series,"markLine")&&(t.markLine=t.markLine||{})})}const ue=kr("analytic",{state:()=>({isLoading:!1,traveledCities:[],bookedCities:[],busiestPeriod:[]}),actions:{async getTraveled(a){this.isLoading=!0;try{const t=await ce.get("/v1/travel/analytics/air-traffic/traveled",{params:a});t.status===200&&(this.traveledCities=t.data.data)}catch{this.traveledCities=[]}finally{this.isLoading=!1}},async getBooked(a){this.isLoading=!0;try{const t=await ce.get("/v1/travel/analytics/air-traffic/booked",{params:a});t.status===200&&(this.bookedCities=t.data.data)}catch{this.bookedCities=[]}finally{this.isLoading=!1}},async getBusiestPeriod(a){var t;this.isLoading=!0;try{const e=await ce.get("/v1/travel/analytics/air-traffic/busiest-period",{params:a});e.status===200&&(this.busiestPeriod=(t=e.data.data)==null?void 0:t.sort((r,n)=>r.period>n.period?1:-1))}catch{this.busiestPeriod=[]}finally{this.isLoading=!1}}}});const lo=a=>(Ot("data-v-97e8c0d4"),a=a(),Rt(),a),uo={class:"chart-container text-center"},co={key:1,class:"flex column items-center"},vo=lo(()=>C("div",{class:"text-h6 q-mt-md text-primary text-center"}," No information ",-1)),ho={__name:"TraveledCities",setup(a){St([or,ne,He,br,We,ie]);const t=ue(),{traveledCities:e}=ht(t),r=Jt(),n=Xt(()=>({grid:{left:"5%",right:"5%",bottom:"10%",top:"20%"},xAxis:{type:"category",data:e.value.map(i=>i.destination)},yAxis:{name:"Count",type:"value"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:r.dark.isActive?"black":"white"},series:[{name:"travelers",data:e.value.map(i=>i.analytics.travelers.score),type:"bar",itemStyle:{color:"#1976D2"},markPoint:{data:[{type:"max",name:"Max"},{type:"min",name:"Min"}]},markLine:{data:[{type:"average",name:"Avg"}]}},{name:"flights",data:e.value.map(i=>i.analytics.flights.score),type:"bar",itemStyle:{color:"#81c784"},markPoint:{data:[{type:"max",name:"Max"},{type:"min",name:"Min"}]},markLine:{data:[{type:"average",name:"Avg"}]}}]}));return(i,o)=>(B(),Z("div",uo,[U(e).length>0?(B(),Tt(U(oe),{key:0,option:n.value,autoresize:"",class:"full-weight full-height"},null,8,["option"])):(B(),Z("div",co,[N(U(Qt),{height:"100",class:"q-mt-md"}),vo]))]))}};var fo=Mt(ho,[["__scopeId","data-v-97e8c0d4"]]);const go=a=>(Ot("data-v-d6c6bbaa"),a=a(),Rt(),a),po={class:"chart-container text-center"},mo={key:1,class:"flex column items-center"},yo=go(()=>C("div",{class:"text-h6 q-mt-md text-primary text-center"}," No information ",-1)),bo={__name:"FlightsGraph",props:{origin:{type:Object,required:!0}},setup(a){St([ne,Ui,ie]);const t=a,e=Jt();let r=st([]),n=st([]),i=st({});const o=Oa(),{inspirationData:s,inspirationCurrency:u}=ht(o);return Ir(()=>s.value,()=>{r.value=[{id:0,name:t.origin.iataCode,symbolSize:20,itemStyle:{color:"#81c784"},category:1,label:{show:!0}}];const l=Math.max(...s.value.map(c=>Number(c.price.total)));r.value=r.value.concat(s.value.map((c,v)=>({id:v+1,name:c.destination,symbolSize:Number(c.price.total)/l*20,value:`${c.price.total} ${u.value}`,category:0,itemStyle:{color:"#1976D2"},label:{show:!0}}))),n.value=s.value.map((c,v)=>({source:0,target:v+1})),i.value={tooltip:{backgroundColor:e.dark.isActive?"black":"white"},animationDurationUpdate:500,animationEasingUpdate:"quinticInOut",series:[{type:"graph",layout:"circular",circular:{rotateLabel:!0},data:r.value,links:n.value,categories:[0,1],label:{position:"right",formatter:"{b}"},lineStyle:{color:"source",curveness:.1}}]}},{deep:!0,immediate:!0}),(l,c)=>(B(),Z("div",po,[U(s).length>0?(B(),Tt(U(oe),{key:0,option:U(i),autoresize:"",class:"full-weight full-height"},null,8,["option"])):(B(),Z("div",mo,[N(U(Qt),{height:"100",class:"q-mt-md"}),yo]))]))}};var So=Mt(bo,[["__scopeId","data-v-d6c6bbaa"]]);const _o=a=>(Ot("data-v-16914e9c"),a=a(),Rt(),a),Do={class:"chart-container text-center"},Ao={key:1,class:"flex column items-center"},wo=_o(()=>C("div",{class:"text-h6 q-mt-md text-primary text-center"}," No information ",-1)),ko={__name:"BookedCities",setup(a){St([or,ne,He,br,We,ie]);const t=ue(),{bookedCities:e}=ht(t),r=Jt(),n=Xt(()=>({grid:{left:"5%",right:"5%",bottom:"10%",top:"20%"},xAxis:{type:"category",data:e.value.map(i=>i.destination)},yAxis:{name:"Count",type:"value"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:r.dark.isActive?"black":"white"},series:[{name:"travelers",data:e.value.map(i=>i.analytics.travelers.score),type:"bar",itemStyle:{color:"#1976D2"},markPoint:{data:[{type:"max",name:"Max"},{type:"min",name:"Min"}]},markLine:{data:[{type:"average",name:"Avg"}]}},{name:"flights",data:e.value.map(i=>i.analytics.flights.score),type:"bar",itemStyle:{color:"#81c784"},markPoint:{data:[{type:"max",name:"Max"},{type:"min",name:"Min"}]},markLine:{data:[{type:"average",name:"Avg"}]}}]}));return(i,o)=>(B(),Z("div",Do,[U(e).length>0?(B(),Tt(U(oe),{key:0,option:n.value,autoresize:"",class:"full-weight full-height"},null,8,["option"])):(B(),Z("div",Ao,[N(U(Qt),{height:"100",class:"q-mt-md"}),wo]))]))}};var Io=Mt(ko,[["__scopeId","data-v-16914e9c"]]);const Lo=a=>(Ot("data-v-3e589843"),a=a(),Rt(),a),Po={class:"chart-container"},xo={key:1,class:"flex column items-center"},Co=Lo(()=>C("div",{class:"text-h6 q-mt-md text-primary text-center"}," No information ",-1)),Vo={__name:"BusiestPeriod",setup(a){St([ne,We,He,Xn,ie]);const t=ue(),{busiestPeriod:e}=ht(t),r=Jt(),n=Xt(()=>{const o=e.value.map((u,l)=>({value:u.analytics.travelers.score,xAxis:l,yAxis:u.analytics.travelers.score})),s=Math.max(...o.map(u=>u.value));return o.filter(u=>u.value===s)}),i=Xt(()=>({grid:{left:"8%",right:"4%",bottom:"10%",top:"15%"},xAxis:{type:"category",boundaryGap:!1,data:e.value.map(o=>xt.formatDate(xt.adjustDate(new Date,{month:Number(o.period.split("-")[1])}),"MMM"))},yAxis:{type:"value",name:"Count"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:r.dark.isActive?"black":"white"},series:[{data:e.value.map(o=>o.analytics.travelers.score),type:"line",areaStyle:{},symbol:"none",smooth:!0,itemStyle:{color:"#1976D2"},markPoint:{data:n.value}}]}));return(o,s)=>(B(),Z("div",Po,[U(e).length>0?(B(),Tt(U(oe),{key:0,option:i.value,autoresize:"",class:"full-weight full-height"},null,8,["option"])):(B(),Z("div",xo,[N(U(Qt),{height:"100",class:"q-mt-md"}),Co]))]))}};var No=Mt(Vo,[["__scopeId","data-v-3e589843"]]),Eo="https://oleinikovapolina.github.io/Flights/dist/spa/assets/travel.98c8356b.svg?href",Mo="https://oleinikovapolina.github.io/Flights/dist/spa/assets/ticket.37be9ad3.svg?href";const To=Lr({name:"DashboardPage",components:{BookedCities:Io,FlightsGraph:So,FlightMap:Ln,TraveledCities:fo,BusiestPeriod:No},setup(){const a=st(!0),t=st({iataCode:"PAR",name:"Paris"}),e=st("2017"),r=st(xt.formatDate(xt.adjustDate(new Date,{year:2017}),"YYYY-MM")),n=st([]),i=ue(),{bookedCities:o,traveledCities:s,isLoading:u}=ht(i),l=Oa(),{inspirationData:c}=ht(l),v=_r(),h=ht(v).isLoading;Pr(async()=>{f()});const f=()=>{p(),g(),b()},g=async()=>{xt.isValid(r.value)&&(await i.getTraveled({originCityCode:t.value.iataCode,period:r.value}),await i.getBooked({originCityCode:t.value.iataCode,period:r.value}))},d=Xe(g,1e3),b=async()=>{a.value=!0,await l.getFlightInspiration({origin:t.value.iataCode});const y=[];c.value.forEach(D=>{y.push(l.getLatLng(D.destination))}),await Promise.all(y),t.value.geoCode=await l.getLatLng(t.value.iataCode),a.value=!1},p=async()=>{await i.getBusiestPeriod({cityCode:t.value.iataCode,period:e.value,direction:"ARRIVING"})},_=Xe(p,1e3);return{isLoading:u,loadingMap:a,inspirationData:c,origin:t,analyticMonth:r,analyticYear:e,bookedCities:o,traveledCities:s,originAirports:n,getAnalyticMonthDebounce:d,getBusiestPeriodDebounce:_,isLoadingAirports:h,travelSVG:Eo,ticketSVG:Mo,filterAirportsOptions:async(y,D)=>{await D(async()=>{y&&(n.value=await v.getAirports({keyword:y.toLowerCase()}))})},getFlightInspiration:b,getAllAnalytic:f}}}),Dt=a=>(Ot("data-v-caf43064"),a=a(),Rt(),a),Oo={class:"relative-position"},Ro={class:"row items-stretch q-col-gutter-md"},Go={class:"col-12 col-md-4"},Bo={class:"col-6"},Fo=Dt(()=>C("div",null,"Number of recommended flights",-1)),zo={class:"text-h5"},$o={class:"col-6 full-height"},qo={class:"col-12 col-md-4"},Wo={class:"text-h5"},Uo={key:1,class:"text-h5"},Ho=["src"],jo={class:"col-12 col-md-4"},Ko={class:"text-h5"},Xo={key:1,class:"text-h5"},Zo=["src"],Yo={class:"col-12 col-md-4"},Qo=Dt(()=>C("div",{class:"text-h6 q-mb-md text-center"},"Recommended Flights",-1)),Jo=Dt(()=>C("div",{class:"text-h6 q-mb-sm"},"Flight Busiest Traveling Period",-1)),ts={class:"col-12 col-md-8"},es=Dt(()=>C("div",{class:"text-h6 q-mb-md text-center"}," Flight Most Traveled Destinations ",-1)),as=Dt(()=>C("div",{class:"text-h6 q-mb-md text-center"}," Flight Most Booked Destinations ",-1)),rs=Dt(()=>C("div",{class:"text-primary q-mt-md"},"Search info...",-1));function ns(a,t,e,r,n,i){const o=wt("flight-map"),s=wt("flights-graph"),u=wt("busiest-period"),l=wt("traveled-cities"),c=wt("booked-cities");return B(),Tt(Nr,null,{default:O(()=>[N(Ar,{modelValue:a.origin,"onUpdate:modelValue":[t[0]||(t[0]=v=>a.origin=v),a.getAllAnalytic],options:a.originAirports||[],label:"Origin","option-value":"iataCode","option-label":"name",class:"col-6 q-mb-md",filled:"","bg-color":a.$q.dark.isActive?"dark":"white","use-input":"","hide-selected":"","fill-input":"","input-debounce":"1000",loading:a.isLoadingAirports,onFilter:a.filterAirportsOptions},{option:O(v=>[N(je,xr(Cr(v.itemProps)),{default:O(()=>[N(Ke,null,{default:O(()=>[N(Dr,{class:Bt({"q-pl-md":v.opt.subType==="Airport"})},{default:O(()=>[Ze(at(v.opt.name)+" ("+at(v.opt.iataCode)+") ",1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1040)]),"no-option":O(()=>[N(je,null,{default:O(()=>[N(Ke,{class:"text-grey"},{default:O(()=>[Ze(" Enter city ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","bg-color","loading","onFilter","onUpdate:modelValue"]),C("div",Oo,[C("div",Ro,[C("div",Go,[N(pt,{class:Bt(["shadow-0 full-height",a.$q.dark.isActive?"bg-blue-4 text-dark":"bg-blue text-white"])},{default:O(()=>[N(dt,{class:"row items-center justify-between no-wrap full-height"},{default:O(()=>[C("div",Bo,[Fo,C("div",zo,at(a.inspirationData.length),1)]),C("div",$o,[N(o,{origin:a.origin,loading:a.loadingMap,analytic:!0},null,8,["origin","loading"])])]),_:1})]),_:1},8,["class"])]),C("div",qo,[N(pt,{class:Bt(["shadow-0 full-height",a.$q.dark.isActive?"bg-green-4 text-dark":"bg-green text-white"])},{default:O(()=>[N(dt,{class:"row items-center justify-between no-wrap full-height"},{default:O(()=>[C("div",null,[C("div",null,"The most traveled city in "+at(a.analyticMonth),1),a.traveledCities.length>0?(B(),Z(Ye,{key:0},[C("div",Wo,at(a.traveledCities[0].destination),1),C("div",null," travelers: "+at(a.traveledCities[0].analytics.travelers.score),1),C("div",null," flights: "+at(a.traveledCities[0].analytics.flights.score),1)],64)):(B(),Z("div",Uo,"Looking for..."))]),C("div",null,[C("img",{src:a.travelSVG,alt:"travel",style:{height:"100px"}},null,8,Ho)])]),_:1})]),_:1},8,["class"])]),C("div",jo,[N(pt,{class:Bt(["shadow-0 full-height",a.$q.dark.isActive?"bg-amber-4 text-dark":"bg-amber text-white"])},{default:O(()=>[N(dt,{class:"row items-center justify-between no-wrap full-height"},{default:O(()=>[C("div",null,[C("div",null,"The most booked city in "+at(a.analyticMonth),1),a.bookedCities.length>0?(B(),Z(Ye,{key:0},[C("div",Ko,at(a.bookedCities[0].destination),1),C("div",null," travelers: "+at(a.bookedCities[0].analytics.travelers.score),1),C("div",null," flights: "+at(a.bookedCities[0].analytics.flights.score),1)],64)):(B(),Z("div",Xo,"Looking for..."))]),C("div",null,[C("img",{src:a.ticketSVG,alt:"travel",style:{height:"100px"}},null,8,Zo)])]),_:1})]),_:1},8,["class"])]),C("div",Yo,[N(pt,{class:"shadow-0"},{default:O(()=>[N(dt,null,{default:O(()=>[Qo,N(s,{origin:a.origin},null,8,["origin"])]),_:1})]),_:1}),N(pt,{class:"shadow-0 q-mt-md"},{default:O(()=>[N(dt,{class:"text-center no-wrap"},{default:O(()=>[Jo,N(Qe,{modelValue:a.analyticYear,"onUpdate:modelValue":[t[1]||(t[1]=v=>a.analyticYear=v),a.getBusiestPeriodDebounce],label:"Year",class:"q-mb-lg"},null,8,["modelValue","onUpdate:modelValue"]),N(u)]),_:1})]),_:1})]),C("div",ts,[N(pt,{class:"shadow-0"},{default:O(()=>[N(dt,null,{default:O(()=>[N(Qe,{modelValue:a.analyticMonth,"onUpdate:modelValue":[t[2]||(t[2]=v=>a.analyticMonth=v),a.getAnalyticMonthDebounce],type:"month",label:"Month and year",class:"q-mb-md"},null,8,["modelValue","onUpdate:modelValue"]),es,N(l),as,N(c)]),_:1})]),_:1})])]),N(wr,{showing:a.loadingMap||a.isLoading},{default:O(()=>[N(Vr,{color:"primary",size:"4em"}),rs]),_:1},8,["showing"])])]),_:1})}var fs=Mt(To,[["render",ns],["__scopeId","data-v-caf43064"]]);export{fs as default};
